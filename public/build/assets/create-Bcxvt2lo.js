import{c as $e,r as U,j as l,b as Be,a as Oe,H as Ie}from"./app-BhlJV8j8.js";import{A as qe}from"./admin-layout-BPhZfPRV.js";import"./app-oKtDJvqm.js";function Ze(r){const e=$e.c(162),{nextFightNumber:n,lastEventName:X}=r;let Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(Y=[],e[0]=Y):Y=e[0];const[,We]=U.useState(Y);let Z;e[1]===Symbol.for("react.memo_cache_sentinel")?(Z=[],e[1]=Z):Z=e[1];const[Te]=U.useState(Z),[o,Me]=U.useState(!1);let ee;e[2]!==n?(ee={fight_number:n,meron_fighter:"",wala_fighter:"",meron_odds:"1.0",wala_odds:"1.0",draw_odds:"9.0",auto_odds:!0,scheduled_at:"",revolving_funds:"0",notes:"",venue:"",event_name:"",event_date:"",commission_percentage:"7.5",round_number:"",match_type:"regular",special_conditions:""},e[2]=n,e[3]=ee):ee=e[3];const[t,a]=U.useState(ee);let te,le;e[4]===Symbol.for("react.memo_cache_sentinel")?(te=()=>{Be.get("/admin/api/tellers").then(s=>We(s.data)).catch(Ke)},le=[],e[4]=te,e[5]=le):(te=e[4],le=e[5]),U.useEffect(te,le);let se,ae;e[6]!==t.event_name||e[7]!==X||e[8]!==n?(se=()=>{t.event_name&&X&&t.event_name!==X?(Me(!0),a(Je)):(Me(!1),a(s=>({...s,fight_number:n})))},ae=[t.event_name,X,n],e[6]=t.event_name,e[7]=X,e[8]=n,e[9]=se,e[10]=ae):(se=e[9],ae=e[10]),U.useEffect(se,ae);let re;e[11]!==t||e[12]!==o||e[13]!==Te?(re=s=>{if(s.preventDefault(),o&&!confirm(`‚ö†Ô∏è Creating a new event will close/end the previous event.

New Event: "${t.event_name}"
Fight number will reset to #1
All previous fights will be closed.

Do you want to continue?`))return;if(getRemainingFunds()<0){alert(`Total assignments (‚Ç±${getTotalAssigned().toLocaleString()}) exceed revolving funds (‚Ç±${parseFloat(t.revolving_funds).toLocaleString()})`);return}Oe.post("/admin/fights",{...t,teller_assignments:Te.filter(Ge),new_event:o},{onSuccess:ze})},e[11]=t,e[12]=o,e[13]=Te,e[14]=re):re=e[14];const Le=re;let ne;e[15]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(Ie,{title:"Create Fight - Admin"}),e[15]=ne):ne=e[15];let oe;e[16]===Symbol.for("react.memo_cache_sentinel")?(oe=l.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Create New Fight"}),l.jsx("p",{className:"text-gray-400",children:"Add a new fight to the system"})]}),l.jsx("button",{type:"button",onClick:Ve,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"‚Üê Back to Dashboard"})]}),e[16]=oe):oe=e[16];let ie;e[17]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Basic Information"}),e[17]=ie):ie=e[17];let de;e[18]===Symbol.for("react.memo_cache_sentinel")?(de=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fight Number"}),e[18]=de):de=e[18];let i;e[19]!==t.fight_number?(i=l.jsxs("div",{children:[de,l.jsx("input",{type:"number",value:t.fight_number,readOnly:!0,className:"w-full px-4 py-2 bg-gray-600 border border-gray-600 rounded-lg text-gray-300 cursor-not-allowed"})]}),e[19]=t.fight_number,e[20]=i):i=e[20];let ce;e[21]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Scheduled Date/Time"}),e[21]=ce):ce=e[21];let d;e[22]!==t?(d=s=>a({...t,scheduled_at:s.target.value}),e[22]=t,e[23]=d):d=e[23];let c;e[24]!==t.scheduled_at||e[25]!==d?(c=l.jsxs("div",{children:[ce,l.jsx("input",{type:"datetime-local",value:t.scheduled_at,onChange:d,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e[24]=t.scheduled_at,e[25]=d,e[26]=c):c=e[26];let m;e[27]!==i||e[28]!==c?(m=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i,c]}),e[27]=i,e[28]=c,e[29]=m):m=e[29];let me;e[30]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx("label",{className:"block text-sm font-medium mb-2 text-red-400",children:"MERON Fighter *"}),e[30]=me):me=e[30];let u;e[31]!==t?(u=s=>a({...t,meron_fighter:s.target.value}),e[31]=t,e[32]=u):u=e[32];let g;e[33]!==t.meron_fighter||e[34]!==u?(g=l.jsxs("div",{children:[me,l.jsx("input",{type:"text",value:t.meron_fighter,onChange:u,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),e[33]=t.meron_fighter,e[34]=u,e[35]=g):g=e[35];let ue;e[36]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-400",children:"WALA Fighter *"}),e[36]=ue):ue=e[36];let f;e[37]!==t?(f=s=>a({...t,wala_fighter:s.target.value}),e[37]=t,e[38]=f):f=e[38];let b;e[39]!==t.wala_fighter||e[40]!==f?(b=l.jsxs("div",{children:[ue,l.jsx("input",{type:"text",value:t.wala_fighter,onChange:f,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e[39]=t.wala_fighter,e[40]=f,e[41]=b):b=e[41];let h;e[42]!==g||e[43]!==b?(h=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g,b]}),e[42]=g,e[43]=b,e[44]=h):h=e[44];let ge;e[45]===Symbol.for("react.memo_cache_sentinel")?(ge=l.jsx("label",{className:"block text-sm font-medium mb-2 text-red-400",children:"MERON Odds"}),e[45]=ge):ge=e[45];let x;e[46]!==t?(x=s=>a({...t,meron_odds:s.target.value}),e[46]=t,e[47]=x):x=e[47];let p;e[48]!==t.auto_odds||e[49]!==t.meron_odds||e[50]!==x?(p=l.jsxs("div",{children:[ge,l.jsx("input",{type:"number",step:"0.01",value:t.meron_odds,onChange:x,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[48]=t.auto_odds,e[49]=t.meron_odds,e[50]=x,e[51]=p):p=e[51];let fe;e[52]===Symbol.for("react.memo_cache_sentinel")?(fe=l.jsx("label",{className:"block text-sm font-medium mb-2 text-green-400",children:"DRAW Odds"}),e[52]=fe):fe=e[52];let _;e[53]!==t?(_=s=>a({...t,draw_odds:s.target.value}),e[53]=t,e[54]=_):_=e[54];let y;e[55]!==t.auto_odds||e[56]!==t.draw_odds||e[57]!==_?(y=l.jsxs("div",{children:[fe,l.jsx("input",{type:"number",step:"0.01",value:t.draw_odds,onChange:_,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[55]=t.auto_odds,e[56]=t.draw_odds,e[57]=_,e[58]=y):y=e[58];let be;e[59]===Symbol.for("react.memo_cache_sentinel")?(be=l.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-400",children:"WALA Odds"}),e[59]=be):be=e[59];let v;e[60]!==t?(v=s=>a({...t,wala_odds:s.target.value}),e[60]=t,e[61]=v):v=e[61];let j;e[62]!==t.auto_odds||e[63]!==t.wala_odds||e[64]!==v?(j=l.jsxs("div",{children:[be,l.jsx("input",{type:"number",step:"0.01",value:t.wala_odds,onChange:v,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[62]=t.auto_odds,e[63]=t.wala_odds,e[64]=v,e[65]=j):j=e[65];let N;e[66]!==p||e[67]!==y||e[68]!==j?(N=l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p,y,j]}),e[66]=p,e[67]=y,e[68]=j,e[69]=N):N=e[69];let w;e[70]!==t?(w=s=>a({...t,auto_odds:s.target.checked}),e[70]=t,e[71]=w):w=e[71];let S;e[72]!==t.auto_odds||e[73]!==w?(S=l.jsx("input",{type:"checkbox",checked:t.auto_odds,onChange:w,className:"w-4 h-4"}),e[72]=t.auto_odds,e[73]=w,e[74]=S):S=e[74];let he;e[75]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsx("label",{className:"text-sm",children:"Auto-calculate odds based on bet amounts"}),e[75]=he):he=e[75];let C;e[76]!==S?(C=l.jsxs("div",{className:"flex items-center gap-2",children:[S,he]}),e[76]=S,e[77]=C):C=e[77];let k;e[78]!==m||e[79]!==h||e[80]!==N||e[81]!==C?(k=l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[ie,m,h,N,C]}),e[78]=m,e[79]=h,e[80]=N,e[81]=C,e[82]=k):k=e[82];let xe;e[83]===Symbol.for("react.memo_cache_sentinel")?(xe=l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"üì∫ Big Screen Display Information"}),e[83]=xe):xe=e[83];let pe;e[84]===Symbol.for("react.memo_cache_sentinel")?(pe=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Name"}),e[84]=pe):pe=e[84];let F;e[85]!==t?(F=s=>a({...t,event_name:s.target.value}),e[85]=t,e[86]=F):F=e[86];let E;e[87]!==t.event_name||e[88]!==F?(E=l.jsx("input",{type:"text",value:t.event_name,onChange:F,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., Championship 2026"}),e[87]=t.event_name,e[88]=F,e[89]=E):E=e[89];let A;e[90]!==o?(A=o&&l.jsxs("div",{className:"mt-2 p-3 bg-yellow-900/30 border border-yellow-600 rounded-lg",children:[l.jsxs("p",{className:"text-yellow-400 text-sm font-semibold flex items-center gap-2",children:[l.jsx("span",{children:"‚ö†Ô∏è"}),l.jsx("span",{children:"New Event Detected - Fight will start at #1"})]}),l.jsx("p",{className:"text-yellow-400/80 text-xs mt-1",children:"All previous fights will be closed"})]}),e[90]=o,e[91]=A):A=e[91];let D;e[92]!==E||e[93]!==A?(D=l.jsxs("div",{children:[pe,E,A]}),e[92]=E,e[93]=A,e[94]=D):D=e[94];let _e;e[95]===Symbol.for("react.memo_cache_sentinel")?(_e=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Date"}),e[95]=_e):_e=e[95];let R;e[96]!==t?(R=s=>a({...t,event_date:s.target.value}),e[96]=t,e[97]=R):R=e[97];let O;e[98]!==t.event_date||e[99]!==R?(O=l.jsxs("div",{children:[_e,l.jsx("input",{type:"date",value:t.event_date,onChange:R,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg"})]}),e[98]=t.event_date,e[99]=R,e[100]=O):O=e[100];let T;e[101]!==D||e[102]!==O?(T=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D,O]}),e[101]=D,e[102]=O,e[103]=T):T=e[103];let ye;e[104]===Symbol.for("react.memo_cache_sentinel")?(ye=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue"}),e[104]=ye):ye=e[104];let L;e[105]!==t?(L=s=>a({...t,venue:s.target.value}),e[105]=t,e[106]=L):L=e[106];let M;e[107]!==t.venue||e[108]!==L?(M=l.jsxs("div",{children:[ye,l.jsx("input",{type:"text",value:t.venue,onChange:L,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., Manila Cockpit Arena"})]}),e[107]=t.venue,e[108]=L,e[109]=M):M=e[109];let ve;e[110]===Symbol.for("react.memo_cache_sentinel")?(ve=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commission %"}),e[110]=ve):ve=e[110];let W;e[111]!==t?(W=s=>a({...t,commission_percentage:s.target.value}),e[111]=t,e[112]=W):W=e[112];let $;e[113]!==t.commission_percentage||e[114]!==W?($=l.jsxs("div",{children:[ve,l.jsx("input",{type:"number",step:"0.1",value:t.commission_percentage,onChange:W,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg"})]}),e[113]=t.commission_percentage,e[114]=W,e[115]=$):$=e[115];let B;e[116]!==M||e[117]!==$?(B=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M,$]}),e[116]=M,e[117]=$,e[118]=B):B=e[118];let je;e[119]===Symbol.for("react.memo_cache_sentinel")?(je=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Round Number"}),e[119]=je):je=e[119];let I;e[120]!==t?(I=s=>a({...t,round_number:s.target.value}),e[120]=t,e[121]=I):I=e[121];let q;e[122]!==t.round_number||e[123]!==I?(q=l.jsxs("div",{children:[je,l.jsx("input",{type:"number",value:t.round_number,onChange:I,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., 1, 2, 3..."})]}),e[122]=t.round_number,e[123]=I,e[124]=q):q=e[124];let Ne;e[125]===Symbol.for("react.memo_cache_sentinel")?(Ne=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Match Type"}),e[125]=Ne):Ne=e[125];let H;e[126]!==t?(H=s=>a({...t,match_type:s.target.value}),e[126]=t,e[127]=H):H=e[127];let we,Se,Ce,ke,Fe;e[128]===Symbol.for("react.memo_cache_sentinel")?(we=l.jsx("option",{value:"regular",children:"Regular"}),Se=l.jsx("option",{value:"derby",children:"Derby"}),Ce=l.jsx("option",{value:"tournament",children:"Tournament"}),ke=l.jsx("option",{value:"championship",children:"Championship"}),Fe=l.jsx("option",{value:"special",children:"Special Event"}),e[128]=we,e[129]=Se,e[130]=Ce,e[131]=ke,e[132]=Fe):(we=e[128],Se=e[129],Ce=e[130],ke=e[131],Fe=e[132]);let V;e[133]!==t.match_type||e[134]!==H?(V=l.jsxs("div",{children:[Ne,l.jsxs("select",{value:t.match_type,onChange:H,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[we,Se,Ce,ke,Fe]})]}),e[133]=t.match_type,e[134]=H,e[135]=V):V=e[135];let z;e[136]!==q||e[137]!==V?(z=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q,V]}),e[136]=q,e[137]=V,e[138]=z):z=e[138];let Ee;e[139]===Symbol.for("react.memo_cache_sentinel")?(Ee=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fight Notes"}),e[139]=Ee):Ee=e[139];let G;e[140]!==t?(G=s=>a({...t,notes:s.target.value}),e[140]=t,e[141]=G):G=e[141];let J;e[142]!==t.notes||e[143]!==G?(J=l.jsxs("div",{children:[Ee,l.jsx("textarea",{value:t.notes,onChange:G,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",rows:3,placeholder:"Notes visible on big screen..."})]}),e[142]=t.notes,e[143]=G,e[144]=J):J=e[144];let Ae;e[145]===Symbol.for("react.memo_cache_sentinel")?(Ae=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Special Conditions"}),e[145]=Ae):Ae=e[145];let K;e[146]!==t?(K=s=>a({...t,special_conditions:s.target.value}),e[146]=t,e[147]=K):K=e[147];let P;e[148]!==t.special_conditions||e[149]!==K?(P=l.jsxs("div",{children:[Ae,l.jsx("textarea",{value:t.special_conditions,onChange:K,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",rows:2,placeholder:"e.g., Weather conditions, special rules..."})]}),e[148]=t.special_conditions,e[149]=K,e[150]=P):P=e[150];let Q;e[151]!==T||e[152]!==B||e[153]!==z||e[154]!==J||e[155]!==P?(Q=l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[xe,T,B,z,J,P]}),e[151]=T,e[152]=B,e[153]=z,e[154]=J,e[155]=P,e[156]=Q):Q=e[156];let De;e[157]===Symbol.for("react.memo_cache_sentinel")?(De=l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold",children:"Create Fight"}),l.jsx("button",{type:"button",onClick:He,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})]}),e[157]=De):De=e[157];let Re;return e[158]!==Le||e[159]!==k||e[160]!==Q?(Re=l.jsxs(qe,{children:[ne,oe,l.jsx("div",{className:"max-w-4xl",children:l.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[k,Q,De]})})]}),e[158]=Le,e[159]=k,e[160]=Q,e[161]=Re):Re=e[161],Re}function He(){return Oe.visit("/admin/dashboard")}function Ve(){return Oe.visit("/admin/dashboard")}function ze(){Oe.visit("/admin/dashboard")}function Ge(r){return r.teller_id&&parseFloat(r.amount)>0}function Je(r){return{...r,fight_number:1}}function Ke(r){return console.error("Error fetching tellers:",r)}export{Ze as default};
