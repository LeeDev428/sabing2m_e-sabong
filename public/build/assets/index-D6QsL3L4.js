import{c as P,j as t,H as q,a as I}from"./app-DYQ9Obuc.js";import{A as z}from"./admin-layout-C40UBmxM.js";import{P as G}from"./pagination-AQSSnzCf.js";import"./app-DkS3MTni.js";function Y(s){const e=P.c(65),{tellers:a,recentTransfers:l,currentFight:r}=s,H=Q,M=O;let x,m,o,h,n,p,g,i,c,d;if(e[0]!==a){const F=a.reduce(K,0);x=z,e[11]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(q,{title:"Teller Balances"}),c=t.jsx("br",{}),e[11]=i,e[12]=c):(i=e[11],c=e[12]),e[13]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]})}),e[13]=d):d=e[13],g="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",p="flex justify-between items-start",e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Teller Balance (Current Event)"}),e[14]=n):n=e[14],m="text-5xl font-bold text-white",o="â‚±",h=F.toLocaleString(),e[0]=a,e[1]=x,e[2]=m,e[3]=o,e[4]=h,e[5]=n,e[6]=p,e[7]=g,e[8]=i,e[9]=c,e[10]=d}else x=e[1],m=e[2],o=e[3],h=e[4],n=e[5],p=e[6],g=e[7],i=e[8],c=e[9],d=e[10];let f;e[15]!==m||e[16]!==o||e[17]!==h?(f=t.jsxs("div",{className:m,children:[o,h]}),e[15]=m,e[16]=o,e[17]=h,e[18]=f):f=e[18];const R=a.length!==1?"s":"";let u;e[19]!==R||e[20]!==a.length?(u=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",a.length," teller",R]}),e[19]=R,e[20]=a.length,e[21]=u):u=e[21];let j;e[22]!==f||e[23]!==u||e[24]!==n?(j=t.jsxs("div",{children:[n,f,u]}),e[22]=f,e[23]=u,e[24]=n,e[25]=j):j=e[25];let b;e[26]!==r?(b=r&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Current Event"}),t.jsx("div",{className:"text-lg font-bold text-white",children:r.event_name||"No Event"}),t.jsxs("div",{className:"text-green-200 text-sm",children:["Fight #",r.fight_number]})]}),e[26]=r,e[27]=b):b=e[27];let y;e[28]!==r?(y=!r&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-yellow-200 text-sm",children:"âš ï¸ No active fight"}),t.jsx("div",{className:"text-green-200 text-xs",children:"Create a new fight to assign balances"})]}),e[28]=r,e[29]=y):y=e[29];let N;e[30]!==j||e[31]!==b||e[32]!==y||e[33]!==p?(N=t.jsxs("div",{className:p,children:[j,b,y]}),e[30]=j,e[31]=b,e[32]=y,e[33]=p,e[34]=N):N=e[34];let v;e[35]!==N||e[36]!==g?(v=t.jsx("div",{className:g,children:N}),e[35]=N,e[36]=g,e[37]=v):v=e[37];let B;e[38]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[38]=B):B=e[38];let L;e[39]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[39]=L):L=e[39];let _;if(e[40]!==a){let F;e[42]===Symbol.for("react.memo_cache_sentinel")?(F=$=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:$.name}),t.jsx("div",{className:"text-sm text-gray-400",children:$.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat($.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>H($),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>M($),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},$.id),e[42]=F):F=e[42],_=a.map(F),e[40]=a,e[41]=_}else _=e[41];let w;e[43]!==_?(w=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[B,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[L,t.jsx("tbody",{className:"divide-y divide-gray-700",children:_})]})})]}),e[43]=_,e[44]=w):w=e[44];let C;e[45]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[45]=C):C=e[45];let D;e[46]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[46]=D):D=e[46];let S;e[47]!==l.data?(S=l.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):l.data.map(J),e[47]=l.data,e[48]=S):S=e[48];let A;e[49]!==S?(A=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[D,t.jsx("tbody",{className:"divide-y divide-gray-700",children:S})]})}),e[49]=S,e[50]=A):A=e[50];let T;e[51]!==l.last_page||e[52]!==l.links?(T=l.last_page>1&&t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsx(G,{links:l.links})}),e[51]=l.last_page,e[52]=l.links,e[53]=T):T=e[53];let k;e[54]!==A||e[55]!==T?(k=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[C,A,T]}),e[54]=A,e[55]=T,e[56]=k):k=e[56];let E;return e[57]!==x||e[58]!==v||e[59]!==w||e[60]!==k||e[61]!==i||e[62]!==c||e[63]!==d?(E=t.jsxs(x,{children:[i,c,d,v,w,k]}),e[57]=x,e[58]=v,e[59]=w,e[60]=k,e[61]=i,e[62]=c,e[63]=d,e[64]=E):E=e[64],E}function J(s){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(s.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",s.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:s.remarks||"-"})]},s.id)}function K(s,e){return s+parseFloat(e.teller_balance.toString())}function O(s){const e=prompt(`Deduct balance from ${s.name}:`);if(!e)return;const a=parseFloat(e);if(a>parseFloat(s.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${a.toLocaleString()} from ${s.name}?`)&&I.post(`/admin/teller-balances/${s.id}/deduct`,{amount:a,remarks:`Admin deducted â‚±${a.toLocaleString()}`})}function Q(s){const e=prompt(`Add balance to ${s.name}:`);e&&I.post(`/admin/teller-balances/${s.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{Y as default};
