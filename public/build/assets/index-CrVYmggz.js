import{c as je,r as p,j as t,a as X,H as Ne}from"./app-9buxQ6Cn.js";import{A as we}from"./admin-layout-BtexTR0w.js";import{P as Se}from"./pagination-DHyyHXsU.js";import"./app-DaxxIZgo.js";function Ce(r){const e=je.c(66),{events:n,onClose:x}=r,[w,le]=p.useState(null),[y,v]=p.useState("");let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=new Date().toISOString().split("T"),e[0]=i):i=e[0];const[g,Z]=p.useState(i[0]),[h,ee]=p.useState(""),[S,f]=p.useState(""),[o,T]=p.useState(!0);let I;e[1]!==g||e[2]!==y||e[3]!==o||e[4]!==S||e[5]!==x||e[6]!==h||e[7]!==w?(I=c=>{c.preventDefault(),o?X.post("/admin/events",{name:y,event_date:g,revolving_funds:parseFloat(h),notes:S},{onSuccess:()=>{x()},preserveScroll:!0}):w&&X.put(`/admin/events/${w}`,{revolving_funds:parseFloat(h),notes:S},{onSuccess:()=>{x()},preserveScroll:!0})},e[1]=g,e[2]=y,e[3]=o,e[4]=S,e[5]=x,e[6]=h,e[7]=w,e[8]=I):I=e[8];const J=I;let d;e[9]!==n?(d=c=>{const D=n.find(ne=>ne.id===c);D&&(le(c),v(D.name),Z(D.event_date),ee(D.revolving_funds.toString()),f(D.notes||""),T(!1))},e[9]=n,e[10]=d):d=e[10];const te=d;let P;e[11]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[t.jsx("span",{children:"ðŸ’°"})," Event Revolving Funds"]}),e[11]=P):P=e[11];let l;e[12]!==x?(l=t.jsxs("div",{className:"bg-gray-700 px-6 py-4 flex justify-between items-center rounded-t-lg border-b border-gray-600",children:[P,t.jsx("button",{onClick:x,className:"text-white hover:text-gray-300 text-3xl leading-none",children:"Ã—"})]}),e[12]=x,e[13]=l):l=e[13];let R;e[14]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{T(!0),le(null),v(""),Z(new Date().toISOString().split("T")[0]),ee(""),f("")},e[14]=R):R=e[14];const se=`flex-1 py-3 rounded-lg font-semibold ${o?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`;let U;e[15]!==se?(U=t.jsx("button",{onClick:R,className:se,children:"New Event"}),e[15]=se,e[16]=U):U=e[16];let B;e[17]===Symbol.for("react.memo_cache_sentinel")?(B=()=>T(!1),e[17]=B):B=e[17];const ae=`flex-1 py-3 rounded-lg font-semibold ${o?"bg-gray-700 text-gray-400 hover:bg-gray-600":"bg-blue-600 text-white"}`;let H;e[18]!==ae?(H=t.jsx("button",{onClick:B,className:ae,children:"Update Existing"}),e[18]=ae,e[19]=H):H=e[19];let C;e[20]!==H||e[21]!==U?(C=t.jsxs("div",{className:"mb-6 flex gap-4",children:[U,H]}),e[20]=H,e[21]=U,e[22]=C):C=e[22];let F;e[23]!==n||e[24]!==te||e[25]!==o||e[26]!==w?(F=!o&&n.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Select Event to Update"}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.map(c=>t.jsxs("button",{onClick:()=>te(c.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${w===c.id?"border-blue-500 bg-blue-900/30":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,children:[t.jsx("div",{className:"font-bold text-white",children:c.name}),t.jsxs("div",{className:"text-sm text-gray-400",children:[new Date(c.event_date).toLocaleDateString()," â€¢ Revolving Funds: â‚±",c.revolving_funds.toLocaleString()]})]},c.id))})]}),e[23]=n,e[24]=te,e[25]=o,e[26]=w,e[27]=F):F=e[27];let q;e[28]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Event Name *"}),e[28]=q):q=e[28];let K;e[29]!==y||e[30]!==o?(K=t.jsxs("div",{children:[q,o?t.jsx("input",{type:"text",value:y,onChange:c=>v(c.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white",placeholder:"e.g., Sabing2m Championship",required:!0}):t.jsx("input",{type:"text",value:y,readOnly:!0,className:"w-full px-4 py-3 bg-gray-600 border border-gray-500 rounded-lg text-gray-300 cursor-not-allowed"})]}),e[29]=y,e[30]=o,e[31]=K):K=e[31];let G;e[32]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Event Date *"}),e[32]=G):G=e[32];let L;e[33]!==g||e[34]!==o?(L=t.jsxs("div",{children:[G,o?t.jsx("input",{type:"date",value:g,onChange:c=>Z(c.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0}):t.jsx("input",{type:"date",value:g,readOnly:!0,className:"w-full px-4 py-3 bg-gray-600 border border-gray-500 rounded-lg text-gray-300 cursor-not-allowed"})]}),e[33]=g,e[34]=o,e[35]=L):L=e[35];let W;e[36]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Revolving Funds (â‚±) *"}),e[36]=W):W=e[36];let $;e[37]===Symbol.for("react.memo_cache_sentinel")?($=c=>ee(c.target.value),e[37]=$):$=e[37];let k;e[38]!==h?(k=t.jsxs("div",{children:[W,t.jsx("input",{type:"number",value:h,onChange:$,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white text-xl font-bold",placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),e[38]=h,e[39]=k):k=e[39];let M;e[40]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Notes (Optional)"}),e[40]=M):M=e[40];let z;e[41]===Symbol.for("react.memo_cache_sentinel")?(z=c=>f(c.target.value),e[41]=z):z=e[41];let j;e[42]!==S?(j=t.jsxs("div",{children:[M,t.jsx("textarea",{value:S,onChange:z,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white",rows:3,placeholder:"Additional notes about this event..."})]}),e[42]=S,e[43]=j):j=e[43];const Q=o?!y||!g||!h:!w||!h,O=o?"Create Event":"Update Event";let E;e[44]!==Q||e[45]!==O?(E=t.jsx("button",{type:"submit",disabled:Q,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded-lg font-bold text-lg",children:O}),e[44]=Q,e[45]=O,e[46]=E):E=e[46];let N;e[47]!==x?(N=t.jsx("button",{type:"button",onClick:x,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-4 rounded-lg font-bold text-lg",children:"Cancel"}),e[47]=x,e[48]=N):N=e[48];let A;e[49]!==E||e[50]!==N?(A=t.jsxs("div",{className:"flex gap-3 pt-4",children:[E,N]}),e[49]=E,e[50]=N,e[51]=A):A=e[51];let u;e[52]!==J||e[53]!==K||e[54]!==L||e[55]!==k||e[56]!==j||e[57]!==A?(u=t.jsxs("form",{onSubmit:J,className:"space-y-4",children:[K,L,k,j,A]}),e[52]=J,e[53]=K,e[54]=L,e[55]=k,e[56]=j,e[57]=A,e[58]=u):u=e[58];let _;e[59]!==C||e[60]!==F||e[61]!==u?(_=t.jsxs("div",{className:"p-6",children:[C,F,u]}),e[59]=C,e[60]=F,e[61]=u,e[62]=_):_=e[62];let b;return e[63]!==_||e[64]!==l?(b=t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l,_]})}),e[63]=_,e[64]=l,e[65]=b):b=e[65],b}function Ue(r){const e=je.c(95),{fights:n,tellers:x,currentFight:w,events:le,eventOptions:y}=r,v=w===void 0?null:w,[i,g]=p.useState(null),[Z,h]=p.useState(!1),[ee,S]=p.useState(!1),[f,o]=p.useState("meron"),[T,I]=p.useState(null);let J;e[0]===Symbol.for("react.memo_cache_sentinel")?(J={},e[0]=J):J=e[0];const[d,te]=p.useState(J);let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P={},e[1]=P):P=e[1];const[l,R]=p.useState(P),[se,U]=p.useState(!1),B=n.data[0];B&&B.status==="result_declared"&&B.result&&B.result;const ae=Re,H=Te;let C;e[2]===Symbol.for("react.memo_cache_sentinel")?(C=(a,s)=>{X.post(`/admin/fights/${a}/status`,{status:s},{preserveScroll:!0,onSuccess:()=>{h(!1),g(null)}})},e[2]=C):C=e[2];const F=C;let q;e[3]===Symbol.for("react.memo_cache_sentinel")?(q=a=>{g(a),o("meron"),S(!0)},e[3]=q):q=e[3];const K=q;let G;e[4]!==f||e[5]!==i?(G=()=>{i&&X.post(`/admin/fights/${i.id}/declare-result`,{result:f},{onSuccess:()=>{S(!1),g(null)}})},e[4]=f,e[5]=i,e[6]=G):G=e[6];const L=G;let W;e[7]!==d||e[8]!==l?(W=a=>{I(a.id),te({...d,[a.id]:(a.revolving_funds||0).toString()});const s=a.teller_assignments?.map(De)||[];R({...l,[a.id]:s})},e[7]=d,e[8]=l,e[9]=W):W=e[9];const $=W;let k;e[10]!==d||e[11]!==l?(k=a=>{I(null);const s={...d};delete s[a],te(s);const m={...l};delete m[a],R(m)},e[10]=d,e[11]=l,e[12]=k):k=e[12];const M=k;let z;e[13]!==l?(z=a=>{const s=l[a]||[];R({...l,[a]:[...s,{teller_id:"",amount:"0"}]})},e[13]=l,e[14]=z):z=e[14];const j=z;let Q;e[15]!==n.data||e[16]!==l?(Q=(a,s,m,V)=>{const Y=[...l[a]||[]];if(m==="teller_id"&&V){const ve=n.data.find(ye=>ye.id===a)?.teller_cash_assignments?.find(ye=>ye.teller_id===parseInt(V));Y[s]={...Y[s],[m]:V,amount:ve?ve.current_balance.toString():"0"}}else Y[s]={...Y[s],[m]:V};R({...l,[a]:Y})},e[15]=n.data,e[16]=l,e[17]=Q):Q=e[17];const O=Q;let E;e[18]!==l?(E=(a,s)=>{const m=[...l[a]||[]];m.splice(s,1),R({...l,[a]:m})},e[18]=l,e[19]=E):E=e[19];const N=E;let A;e[20]!==l?(A=a=>(l[a]||[]).reduce(_e,0),e[20]=l,e[21]=A):A=e[21];const u=A;let _;e[22]!==u||e[23]!==d?(_=a=>parseFloat(d[a]||"0")-u(a),e[22]=u,e[23]=d,e[24]=_):_=e[24];const b=_;let c;e[25]!==b||e[26]!==d||e[27]!==l?(c=a=>{if(b(a)<0){alert("âš ï¸ Total assignments exceed revolving funds! Please adjust the amounts.");return}const m=l[a]||[];X.post(`/admin/fights/${a}/funds`,{revolving_funds:d[a]||"0",teller_assignments:m},{preserveScroll:!0,onSuccess:()=>{I(null)}})},e[25]=b,e[26]=d,e[27]=l,e[28]=c):c=e[28];const D=c;let ne;e[29]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Ne,{title:"Fights Management"}),e[29]=ne):ne=e[29];let re;e[30]!==v?(re=v&&t.jsx("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-500/30 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:"ðŸ†"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:"CURRENT FIGHT"}),t.jsxs("div",{className:"text-xl font-bold text-white",children:["Fight #",v.fight_number]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-red-400 font-semibold",children:v.meron_fighter}),t.jsx("div",{className:"text-sm text-gray-400",children:"VS"}),t.jsx("div",{className:"text-blue-400 font-semibold",children:v.wala_fighter})]}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${ae(v.status)}`,children:H(v.status)})]})]})}),e[30]=v,e[31]=re):re=e[31];let be;e[32]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-1 lg:mb-2",children:"Fights Management"}),t.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Manage and control all cockfighting events"})]}),e[32]=be):be=e[32];let pe;e[33]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>U(!0),e[33]=pe):pe=e[33];let he;e[34]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 lg:mb-8",children:[be,t.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[t.jsxs("button",{onClick:pe,className:"flex-1 sm:flex-none px-4 sm:px-6 py-2.5 sm:py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-medium text-sm sm:text-base whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx("span",{children:"ðŸ’°"})," Event Funds"]}),t.jsx("button",{onClick:Ae,className:"flex-1 sm:flex-none px-4 sm:px-6 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-sm sm:text-base whitespace-nowrap",children:"+ Create New Fight"})]})]}),e[34]=he):he=e[34];let ie;if(e[35]!==j||e[36]!==M||e[37]!==T||e[38]!==n.data||e[39]!==b||e[40]!==u||e[41]!==N||e[42]!==d||e[43]!==D||e[44]!==$||e[45]!==l||e[46]!==x||e[47]!==O){let a;e[49]!==j||e[50]!==M||e[51]!==T||e[52]!==b||e[53]!==u||e[54]!==N||e[55]!==d||e[56]!==D||e[57]!==$||e[58]!==l||e[59]!==x||e[60]!==O?(a=s=>t.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 sm:p-6 lg:p-8 hover:bg-gray-750 transition-colors",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-start justify-between gap-4 lg:gap-6",children:[t.jsxs("div",{className:"flex-1 w-full lg:w-auto",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 lg:gap-4 mb-3 lg:mb-4",children:[t.jsxs("div",{className:"text-2xl lg:text-3xl font-bold text-white",children:["#",s.fight_number]}),t.jsx("span",{className:`px-3 lg:px-4 py-1 rounded-full text-xs lg:text-sm font-medium ${ae(s.status)}`,children:H(s.status)}),s.result&&t.jsxs("span",{className:"px-3 lg:px-4 py-1 bg-purple-600 rounded-full text-xs lg:text-sm font-medium",children:["Result: ",s.result.toUpperCase()]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 lg:gap-4 mb-4 lg:mb-6",children:[t.jsxs("div",{className:"bg-red-900/30 border border-red-700 rounded-lg p-3 lg:p-4",children:[t.jsx("div",{className:"text-xs text-red-300 mb-2",children:"MERON"}),t.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2 truncate",children:s.meron_fighter}),t.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-red-400",children:[s.meron_odds||"---","x"]})]}),t.jsxs("div",{className:"bg-green-900/30 border border-green-700 rounded-lg p-3 lg:p-4",children:[t.jsx("div",{className:"text-xs text-green-300 mb-2",children:"DRAW"}),t.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2",children:"Match Draw"}),t.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-green-400",children:[s.draw_odds||"---","x"]})]}),t.jsxs("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-3 lg:p-4",children:[t.jsx("div",{className:"text-xs text-blue-300 mb-2",children:"WALA"}),t.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2 truncate",children:s.wala_fighter}),t.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-blue-400",children:[s.wala_odds||"---","x"]})]}),t.jsx("div",{className:"flex items-center justify-center col-span-2 sm:col-span-1",children:t.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-gray-600",children:"VS"})})]}),t.jsxs("div",{className:"mt-6 border-t border-gray-700 pt-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h4",{className:"text-lg font-bold text-white",children:"ðŸ’° Funds & Teller Cash Distribution"}),T===s.id?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>D(s.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm",children:"ðŸ’¾ Save"}),t.jsx("button",{onClick:()=>M(s.id),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-sm",children:"Cancel"})]}):t.jsx("button",{onClick:()=>$(s),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm",children:"âœï¸ Edit Funds"})]}),T===s.id?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-green-400",children:"Revolving Funds (â‚±)"}),t.jsx("input",{type:"number",step:"0.01",value:d[s.id]||"0",onChange:m=>te({...d,[s.id]:m.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Total funds available for teller assignments"})]}),t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Assign Cash to Tellers"}),t.jsx("button",{type:"button",onClick:()=>j(s.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm",children:"+ Add Teller"})]}),(l[s.id]||[]).length===0?t.jsx("p",{className:"text-gray-400 text-sm",children:'No tellers assigned yet. Click "Add Teller" to assign cash.'}):t.jsx("div",{className:"space-y-3",children:(l[s.id]||[]).map((m,V)=>t.jsxs("div",{className:"flex gap-3 items-end bg-gray-700 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium mb-1",children:"Teller"}),t.jsxs("select",{value:m.teller_id,onChange:Y=>O(s.id,V,"teller_id",Y.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-sm",required:!0,children:[t.jsx("option",{value:"",children:"Select Teller"}),x.map(Ee)]})]}),t.jsxs("div",{className:"w-40",children:[t.jsx("label",{className:"block text-xs font-medium mb-1",children:"Amount (â‚±)"}),t.jsx("input",{type:"number",step:"0.01",value:m.amount,onChange:Y=>O(s.id,V,"amount",Y.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-sm",placeholder:"0.00",required:!0})]}),t.jsx("button",{type:"button",onClick:()=>N(s.id,V),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"Remove"})]},V))}),(l[s.id]||[]).length>0&&t.jsxs("div",{className:"mt-4 bg-gray-900 p-4 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Revolving Funds:"}),t.jsxs("span",{className:"text-white",children:["â‚±",parseFloat(d[s.id]||"0").toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Total Assigned:"}),t.jsxs("span",{className:"text-yellow-400",children:["â‚±",u(s.id).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between text-sm font-bold border-t border-gray-700 pt-2",children:[t.jsx("span",{children:"Remaining:"}),t.jsxs("span",{className:b(s.id)<0?"text-red-400":"text-green-400",children:["â‚±",b(s.id).toLocaleString()]})]}),b(s.id)<0&&t.jsx("p",{className:"text-red-400 text-xs mt-2",children:"âš ï¸ Total assignments exceed revolving funds!"})]})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Revolving Funds"}),t.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["â‚±",(s.revolving_funds||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.teller_assignments&&s.teller_assignments.length>0?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-400 mb-2",children:"Assigned Tellers"}),t.jsx("div",{className:"space-y-2",children:s.teller_assignments.map(ke)}),t.jsx("div",{className:"mt-3 bg-gray-900 p-3 rounded-lg",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Total Assigned:"}),t.jsxs("span",{className:"font-bold text-white",children:["â‚±",s.teller_assignments.reduce(Fe,0).toLocaleString("en-PH",{minimumFractionDigits:2})]})]})})]}):t.jsx("div",{className:""})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6 text-xs lg:text-sm text-gray-400 mt-6",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Created:"})," ",t.jsx("span",{className:"block sm:inline",children:new Date(s.created_at).toLocaleString()})]}),s.scheduled_at&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Scheduled:"})," ",t.jsx("span",{className:"block sm:inline",children:new Date(s.scheduled_at).toLocaleString()})]})]})]}),t.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-3 w-full lg:w-auto lg:min-w-[160px]",children:[t.jsx("button",{onClick:()=>{g(s),h(!0)},className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"Change Status"}),t.jsx("button",{onClick:()=>X.visit(`/admin/fights/${s.id}/edit`),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-blue-700 hover:bg-blue-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"Edit Details"}),t.jsx("button",{onClick:()=>X.visit(`/admin/fights/${s.id}`),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-purple-700 hover:bg-purple-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"View"}),s.status==="closed"&&!s.result&&t.jsx("button",{onClick:()=>K(s),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"ðŸ† Declare Result"})]})]})},s.id),e[49]=j,e[50]=M,e[51]=T,e[52]=b,e[53]=u,e[54]=N,e[55]=d,e[56]=D,e[57]=$,e[58]=l,e[59]=x,e[60]=O,e[61]=a):a=e[61],ie=n.data.map(a),e[35]=j,e[36]=M,e[37]=T,e[38]=n.data,e[39]=b,e[40]=u,e[41]=N,e[42]=d,e[43]=D,e[44]=$,e[45]=l,e[46]=x,e[47]=O,e[48]=ie}else ie=e[48];let de;e[62]!==n.data.length?(de=n.data.length===0&&t.jsxs("div",{className:"text-center py-12 text-gray-400",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ®"}),t.jsx("p",{className:"text-xl font-medium mb-2",children:"No fights yet"}),t.jsx("p",{className:"text-sm",children:"Create your first fight to get started"})]}),e[62]=n.data.length,e[63]=de):de=e[63];let ce;e[64]!==n.current_page||e[65]!==n.from||e[66]!==n.last_page||e[67]!==n.links||e[68]!==n.to||e[69]!==n.total?(ce=t.jsx(Se,{currentPage:n.current_page,lastPage:n.last_page,from:n.from,to:n.to,total:n.total,links:n.links}),e[64]=n.current_page,e[65]=n.from,e[66]=n.last_page,e[67]=n.links,e[68]=n.to,e[69]=n.total,e[70]=ce):ce=e[70];let oe;e[71]!==ie||e[72]!==de||e[73]!==ce?(oe=t.jsxs("div",{className:"grid gap-4 lg:gap-6",children:[ie,de,ce]}),e[71]=ie,e[72]=de,e[73]=ce,e[74]=oe):oe=e[74];let xe;e[75]!==re||e[76]!==oe?(xe=t.jsxs("div",{className:"p-4 lg:p-8",children:[re,he,oe]}),e[75]=re,e[76]=oe,e[77]=xe):xe=e[77];let me;e[78]!==i||e[79]!==Z?(me=Z&&i&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[t.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Change Status - Fight #",i.fight_number]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("button",{onClick:()=>F(i.id,"standby"),disabled:i.status==="standby",className:"w-full px-4 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg text-left font-medium disabled:opacity-50",children:"â¸ï¸ STANDBY"}),t.jsx("button",{onClick:()=>F(i.id,"open"),disabled:i.status==="open",className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âœ… OPEN BETTING"}),t.jsx("button",{onClick:()=>F(i.id,"lastcall"),disabled:i.status==="lastcall",className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âš ï¸ LAST CALL"}),t.jsx("button",{onClick:()=>F(i.id,"closed"),disabled:i.status==="closed",className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg text-left font-medium disabled:opacity-50",children:"ðŸ”’ CLOSE BETTING"})]}),t.jsx("button",{onClick:()=>{h(!1),g(null)},className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})}),e[78]=i,e[79]=Z,e[80]=me):me=e[80];let ge;e[81]!==f||e[82]!==i||e[83]!==ee||e[84]!==L?(ge=ee&&i&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-2xl w-full",children:[t.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Declare Result - Fight #",i.fight_number]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-gray-400 mb-4",children:"Select the winning side:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>o("meron"),className:`p-6 rounded-lg text-center transition-all ${f==="meron"?"bg-red-600 ring-4 ring-red-400":"bg-gray-700 hover:bg-gray-600"}`,children:[t.jsx("p",{className:"text-white text-xl font-bold",children:"MERON"}),t.jsx("p",{className:"text-white text-lg mt-2",children:i.meron_fighter})]}),t.jsxs("button",{onClick:()=>o("wala"),className:`p-6 rounded-lg text-center transition-all ${f==="wala"?"bg-blue-600 ring-4 ring-blue-400":"bg-gray-700 hover:bg-gray-600"}`,children:[t.jsx("p",{className:"text-white text-xl font-bold",children:"WALA"}),t.jsx("p",{className:"text-white text-lg mt-2",children:i.wala_fighter})]}),t.jsxs("button",{onClick:()=>o("draw"),className:`p-6 rounded-lg text-center transition-all ${f==="draw"?"bg-green-600 ring-4 ring-green-400":"bg-gray-700 hover:bg-gray-600"}`,children:[t.jsx("p",{className:"text-white text-xl font-bold",children:"DRAW"}),t.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Match Tied"})]}),t.jsxs("button",{onClick:()=>o("cancel"),className:`p-6 rounded-lg text-center transition-all ${f==="cancel"?"bg-gray-600 ring-4 ring-gray-400":"bg-gray-700 hover:bg-gray-600"}`,children:[t.jsx("p",{className:"text-white text-xl font-bold",children:"CANCELLED"}),t.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Refund all bets"})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{S(!1),g(null)},className:"flex-1 px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"}),t.jsx("button",{onClick:L,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold",children:"ðŸ† Confirm Declaration"})]})]})}),e[81]=f,e[82]=i,e[83]=ee,e[84]=L,e[85]=ge):ge=e[85];let ue;e[86]!==y||e[87]!==le||e[88]!==se?(ue=se&&t.jsx(Ce,{events:le,eventOptions:y,onClose:()=>U(!1)}),e[86]=y,e[87]=le,e[88]=se,e[89]=ue):ue=e[89];let fe;return e[90]!==xe||e[91]!==me||e[92]!==ge||e[93]!==ue?(fe=t.jsxs(we,{children:[ne,xe,me,ge,ue]}),e[90]=xe,e[91]=me,e[92]=ge,e[93]=ue,e[94]=fe):fe=e[94],fe}function Fe(r,e){return r+e.assigned_amount}function ke(r){return t.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:r.teller.name}),t.jsx("div",{className:"text-xs text-gray-400",children:r.teller.email})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-400",children:"Assigned"}),t.jsxs("div",{className:"font-bold text-yellow-400",children:["â‚±",r.assigned_amount.toLocaleString("en-PH",{minimumFractionDigits:2})]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: â‚±",r.current_balance.toLocaleString("en-PH",{minimumFractionDigits:2})]})]})]},r.id)}function Ee(r){return t.jsxs("option",{value:r.id,children:[r.name," (",r.email,")"]},r.id)}function Ae(){return X.visit("/admin/fights/create")}function _e(r,e){return r+parseFloat(e.amount||"0")}function De(r){return{teller_id:r.teller_id.toString(),amount:r.assigned_amount.toString(),teller_name:r.teller?.name||"Unknown"}}function Te(r){switch(r){case"standby":return"STANDBY";case"open":return"BETTING OPEN";case"lastcall":return"LAST CALL";case"closed":return"BETTING CLOSED";case"result_declared":return"RESULT DECLARED";case"cancelled":return"CANCELLED";default:return r.toUpperCase()}}function Re(r){switch(r){case"standby":return"bg-gray-600";case"open":return"bg-green-600";case"lastcall":return"bg-yellow-600";case"closed":return"bg-red-600";case"result_declared":return"bg-blue-600";case"cancelled":return"bg-gray-500";default:return"bg-gray-600"}}export{Ue as default};
