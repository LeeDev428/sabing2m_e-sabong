import{c as se,r as le,j as t,H as ae,a as W}from"./app-DUQr0A1g.js";import{D as re}from"./declarator-layout-BmCfhQbX.js";import"./app-DvnR59sY.js";function pe(l){const e=se.c(74),{pending:r,approved:n,declined:i,allTransfers:c,tellers:o}=l,[a,A]=le.useState("pending"),X=me,Y=de,Z=oe,ee=ce;let $;e[0]===Symbol.for("react.memo_cache_sentinel")?($=(s,V)=>{const te=V===void 0?!1:V;return t.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-xl font-bold text-green-400",children:Z(s.amount)}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.status==="pending"?"bg-yellow-600":s.status==="approved"?"bg-green-600":s.status==="declined"?"bg-red-600":"bg-gray-600"}`,children:s.status.toUpperCase()})]}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"From:"}),t.jsx("span",{className:"font-medium",children:s.from_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.from_teller.role,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"To:"}),t.jsx("span",{className:"font-medium",children:s.to_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.to_teller.role,")"]})]}),s.remarks&&t.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[t.jsx("span",{className:"text-gray-400",children:"Note:"}),t.jsx("span",{className:"text-gray-300 italic",children:s.remarks})]})]})]}),te&&t.jsxs("div",{className:"flex gap-2 ml-4",children:[t.jsx("button",{onClick:()=>X(s.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold text-sm",children:"âœ… Approve"}),t.jsx("button",{onClick:()=>Y(s.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-sm",children:"âŒ Reject"})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-600",children:[t.jsxs("span",{children:["ðŸ“… ",ee(s.created_at)]}),s.approved_by&&t.jsxs("span",{children:["âœ“ Approved by: ",s.approved_by.name]})]})]},s.id)},e[0]=$):$=e[0];const F=$;let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(ae,{title:"Cash Transfer Monitoring - Declarator"}),e[1]=P):P=e[1];let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Cash Transfer Monitoring"}),t.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Monitor, approve, and track cash transfers"})]}),e[2]=R):R=e[2];let H;e[3]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸ’° Real-Time Teller Balances"}),e[3]=H):H=e[3];let d;e[4]!==o?(d=o.map(ie),e[4]=o,e[5]=d):d=e[5];let m;e[6]!==d?(m=t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d}),e[6]=d,e[7]=m):m=e[7];let L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"text-blue-100 text-sm",children:"Total Cash in System"}),e[8]=L):L=e[8];let x;e[9]!==o?(x=o.reduce(ne,0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e[9]=o,e[10]=x):x=e[10];let h;e[11]!==x?(h=t.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-400",children:[L,t.jsxs("div",{className:"text-3xl font-bold text-white",children:["â‚±",x]})]}),e[11]=x,e[12]=h):h=e[12];let g;e[13]!==m||e[14]!==h?(g=t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg p-6 mb-6",children:[H,m,h]}),e[13]=m,e[14]=h,e[15]=g):g=e[15];let M;e[16]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Pending Approval"}),e[16]=M):M=e[16];let p;e[17]!==r.length?(p=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[M,t.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:r.length})]}),e[17]=r.length,e[18]=p):p=e[18];let E;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Approved"}),e[19]=E):E=e[19];let b;e[20]!==n.length?(b=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[E,t.jsx("div",{className:"text-3xl font-bold text-green-400",children:n.length})]}),e[20]=n.length,e[21]=b):b=e[21];let B;e[22]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Declined"}),e[22]=B):B=e[22];let f;e[23]!==i.length?(f=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[B,t.jsx("div",{className:"text-3xl font-bold text-red-400",children:i.length})]}),e[23]=i.length,e[24]=f):f=e[24];let y;e[25]!==p||e[26]!==b||e[27]!==f?(y=t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[p,b,f]}),e[25]=p,e[26]=b,e[27]=f,e[28]=y):y=e[28];let I;e[29]===Symbol.for("react.memo_cache_sentinel")?(I=()=>A("pending"),e[29]=I):I=e[29];const J=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="pending"?"bg-yellow-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let v;e[30]!==r.length||e[31]!==J?(v=t.jsxs("button",{onClick:I,className:J,children:["â³ Pending (",r.length,")"]}),e[30]=r.length,e[31]=J,e[32]=v):v=e[32];let U;e[33]===Symbol.for("react.memo_cache_sentinel")?(U=()=>A("approved"),e[33]=U):U=e[33];const K=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="approved"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let j;e[34]!==n.length||e[35]!==K?(j=t.jsxs("button",{onClick:U,className:K,children:["âœ… Approved (",n.length,")"]}),e[34]=n.length,e[35]=K,e[36]=j):j=e[36];let q;e[37]===Symbol.for("react.memo_cache_sentinel")?(q=()=>A("declined"),e[37]=q):q=e[37];const O=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="declined"?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let u;e[38]!==i.length||e[39]!==O?(u=t.jsxs("button",{onClick:q,className:O,children:["âŒ Declined (",i.length,")"]}),e[38]=i.length,e[39]=O,e[40]=u):u=e[40];let z;e[41]===Symbol.for("react.memo_cache_sentinel")?(z=()=>A("all"),e[41]=z):z=e[41];const Q=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="all"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let N;e[42]!==c.length||e[43]!==Q?(N=t.jsxs("button",{onClick:z,className:Q,children:["ðŸ“‹ All Logs (",c.length,")"]}),e[42]=c.length,e[43]=Q,e[44]=N):N=e[44];let _;e[45]!==v||e[46]!==j||e[47]!==u||e[48]!==N?(_=t.jsxs("div",{className:"flex border-b border-gray-700",children:[v,j,u,N]}),e[45]=v,e[46]=j,e[47]=u,e[48]=N,e[49]=_):_=e[49];let w;e[50]!==a||e[51]!==r?(w=a==="pending"&&t.jsx("div",{children:r.length>0?t.jsx("div",{className:"space-y-4",children:r.map(s=>F(s,!0))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No pending cash transfers"})}),e[50]=a,e[51]=r,e[52]=w):w=e[52];let S;e[53]!==a||e[54]!==n?(S=a==="approved"&&t.jsx("div",{children:n.length>0?t.jsx("div",{className:"space-y-4",children:n.map(s=>F(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No approved transfers yet"})}),e[53]=a,e[54]=n,e[55]=S):S=e[55];let C;e[56]!==a||e[57]!==i?(C=a==="declined"&&t.jsx("div",{children:i.length>0?t.jsx("div",{className:"space-y-4",children:i.map(s=>F(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No declined transfers"})}),e[56]=a,e[57]=i,e[58]=C):C=e[58];let T;e[59]!==a||e[60]!==c?(T=a==="all"&&t.jsx("div",{children:c.length>0?t.jsx("div",{className:"space-y-4",children:c.map(s=>F(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No transfer logs available"})}),e[59]=a,e[60]=c,e[61]=T):T=e[61];let D;e[62]!==w||e[63]!==S||e[64]!==C||e[65]!==T?(D=t.jsxs("div",{className:"p-6",children:[w,S,C,T]}),e[62]=w,e[63]=S,e[64]=C,e[65]=T,e[66]=D):D=e[66];let k;e[67]!==_||e[68]!==D?(k=t.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[_,D]}),e[67]=_,e[68]=D,e[69]=k):k=e[69];let G;return e[70]!==g||e[71]!==y||e[72]!==k?(G=t.jsxs(re,{children:[P,R,g,y,k]}),e[70]=g,e[71]=y,e[72]=k,e[73]=G):G=e[73],G}function ne(l,e){return l+Number(e.current_balance||0)}function ie(l){return t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-blue-100",children:l.name}),t.jsxs("div",{className:"text-2xl font-bold text-white mt-1",children:["â‚±",Number(l.current_balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("div",{className:"text-xs text-blue-200 mt-1",children:l.email})]},l.id)}function ce(l){return new Date(l).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function oe(l){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l)}function de(l){confirm("Reject this cash transfer? The balances will stay the same.")&&W.delete(`/declarator/cash-transfer/${l}/reject`)}function me(l){confirm("Approve this cash transfer?")&&W.post(`/declarator/cash-transfer/${l}/approve`)}export{pe as default};
