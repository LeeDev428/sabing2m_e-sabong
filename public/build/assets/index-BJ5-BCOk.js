import{c as q,j as t,H as z,a as H}from"./app-B0EJ2Rmt.js";import{A as G}from"./admin-layout-CUJvaQsL.js";import{P as J}from"./pagination-BztGmWW_.js";import"./app-BAuvDabg.js";function Z(s){const e=q.c(68),{tellers:l,recentTransfers:r,currentFight:a}=s,M=U,P=Q;let x,o,m,h,n,p,g,i,c,d;if(e[0]!==l){const L=l.reduce(O,0);x=G,e[11]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(z,{title:"Teller Balances"}),c=t.jsx("br",{}),e[11]=i,e[12]=c):(i=e[11],c=e[12]),e[13]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]})}),e[13]=d):d=e[13],g="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",p="flex justify-between items-start",e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Teller Balance (Current Event)"}),e[14]=n):n=e[14],o="text-5xl font-bold text-white",m="â‚±",h=L.toLocaleString(),e[0]=l,e[1]=x,e[2]=o,e[3]=m,e[4]=h,e[5]=n,e[6]=p,e[7]=g,e[8]=i,e[9]=c,e[10]=d}else x=e[1],o=e[2],m=e[3],h=e[4],n=e[5],p=e[6],g=e[7],i=e[8],c=e[9],d=e[10];let f;e[15]!==o||e[16]!==m||e[17]!==h?(f=t.jsxs("div",{className:o,children:[m,h]}),e[15]=o,e[16]=m,e[17]=h,e[18]=f):f=e[18];const I=l.length!==1?"s":"";let u;e[19]!==I||e[20]!==l.length?(u=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",l.length," teller",I]}),e[19]=I,e[20]=l.length,e[21]=u):u=e[21];let j;e[22]!==a?(j=a&&t.jsxs("div",{className:"text-green-100 text-sm mt-4 pt-4 border-t border-green-400/30",children:["Revolving Fund: ",t.jsxs("span",{className:"font-bold",children:["â‚±",(a.revolving_funds||0).toLocaleString()]})]}),e[22]=a,e[23]=j):j=e[23];let b;e[24]!==f||e[25]!==u||e[26]!==j||e[27]!==n?(b=t.jsxs("div",{children:[n,f,u,j]}),e[24]=f,e[25]=u,e[26]=j,e[27]=n,e[28]=b):b=e[28];let y;e[29]!==a?(y=a&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Current Event"}),t.jsx("div",{className:"text-lg font-bold text-white",children:a.event_name||"No Event"}),t.jsxs("div",{className:"text-green-200 text-sm",children:["Fight #",a.fight_number]})]}),e[29]=a,e[30]=y):y=e[30];let N;e[31]!==a?(N=!a&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-yellow-200 text-sm",children:"âš ï¸ No active fight"}),t.jsx("div",{className:"text-green-200 text-xs",children:"Create a new fight to assign balances"})]}),e[31]=a,e[32]=N):N=e[32];let v;e[33]!==b||e[34]!==y||e[35]!==N||e[36]!==p?(v=t.jsxs("div",{className:p,children:[b,y,N]}),e[33]=b,e[34]=y,e[35]=N,e[36]=p,e[37]=v):v=e[37];let _;e[38]!==v||e[39]!==g?(_=t.jsx("div",{className:g,children:v}),e[38]=v,e[39]=g,e[40]=_):_=e[40];let B;e[41]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[41]=B):B=e[41];let C;e[42]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[42]=C):C=e[42];let w;if(e[43]!==l){let L;e[45]===Symbol.for("react.memo_cache_sentinel")?(L=$=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:$.name}),t.jsx("div",{className:"text-sm text-gray-400",children:$.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat($.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>M($),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>P($),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},$.id),e[45]=L):L=e[45],w=l.map(L),e[43]=l,e[44]=w}else w=e[44];let S;e[46]!==w?(S=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[B,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[C,t.jsx("tbody",{className:"divide-y divide-gray-700",children:w})]})})]}),e[46]=w,e[47]=S):S=e[47];let R;e[48]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[48]=R):R=e[48];let D;e[49]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[49]=D):D=e[49];let A;e[50]!==r.data?(A=r.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):r.data.map(K),e[50]=r.data,e[51]=A):A=e[51];let T;e[52]!==A?(T=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[D,t.jsx("tbody",{className:"divide-y divide-gray-700",children:A})]})}),e[52]=A,e[53]=T):T=e[53];let F;e[54]!==r.last_page||e[55]!==r.links?(F=r.last_page>1&&t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsx(J,{links:r.links})}),e[54]=r.last_page,e[55]=r.links,e[56]=F):F=e[56];let k;e[57]!==T||e[58]!==F?(k=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[R,T,F]}),e[57]=T,e[58]=F,e[59]=k):k=e[59];let E;return e[60]!==x||e[61]!==_||e[62]!==S||e[63]!==k||e[64]!==i||e[65]!==c||e[66]!==d?(E=t.jsxs(x,{children:[i,c,d,_,S,k]}),e[60]=x,e[61]=_,e[62]=S,e[63]=k,e[64]=i,e[65]=c,e[66]=d,e[67]=E):E=e[67],E}function K(s){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(s.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",s.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:s.remarks||"-"})]},s.id)}function O(s,e){return s+parseFloat(e.teller_balance.toString())}function Q(s){const e=prompt(`Deduct balance from ${s.name}:`);if(!e)return;const l=parseFloat(e);if(l>parseFloat(s.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${l.toLocaleString()} from ${s.name}?`)&&H.post(`/admin/teller-balances/${s.id}/deduct`,{amount:l,remarks:`Admin deducted â‚±${l.toLocaleString()}`})}function U(s){const e=prompt(`Add balance to ${s.name}:`);e&&H.post(`/admin/teller-balances/${s.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{Z as default};
