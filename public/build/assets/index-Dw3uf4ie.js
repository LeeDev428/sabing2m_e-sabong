import{r as a,b as l,j as t,H as c}from"./app-CRLAQ9sY.js";import{W as p,F as b,B as y,a as d,S as j,N as _,H as v}from"./WinnerOverlay-BtE-X9AE.js";import"./app-BcrCpqWN.js";function B(){const[e,m]=a.useState(null),[g,u]=a.useState([]),[h,i]=a.useState(!0),[x,r]=a.useState(!1);a.useEffect(()=>{o();const n=setInterval(o,2e3);return()=>clearInterval(n)},[]);const o=async()=>{try{const s=(await l.get("/api/bigscreen")).data.fight;if(s&&s.status==="declared"&&s.result&&s.result!=="cancelled"&&s.result!=="cancel"&&(!e||e.id!==s.id||e.result!==s.result)&&(r(!0),setTimeout(()=>r(!1),15e3)),m(s),s){const f=await l.get("/api/bigscreen/history");u(f.data.history||[])}i(!1)}catch(n){console.error("Error fetching fight data:",n),i(!1)}};return h?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-5xl animate-pulse",children:"Loading..."})}):e?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 text-white overflow-hidden",children:[t.jsx(c,{title:`Fight #${e.fight_number} - Sabing2m`}),t.jsx(p,{show:x,result:e.result||"",fightNumber:e.fight_number}),t.jsxs("div",{className:"container mx-auto px-4 py-4",children:[t.jsx(b,{fightNumber:e.fight_number,venue:e.venue,eventName:e.event_name,eventDate:e.event_date,roundNumber:e.round_number,matchType:e.match_type}),t.jsx(y,{status:e.status,result:e.result,meronBettingOpen:e.meron_betting_open,walaBettingOpen:e.wala_betting_open}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsx(d,{side:"meron",fighter:e.meron_fighter,odds:e.meron_odds,totalBets:e.meron_total,betCount:e.meron_count,bettingOpen:e.meron_betting_open,isWinner:e.status==="declared"&&e.result==="meron",isCancelled:e.status==="declared"&&e.result==="cancelled"}),t.jsx(d,{side:"wala",fighter:e.wala_fighter,odds:e.wala_odds,totalBets:e.wala_total,betCount:e.wala_count,bettingOpen:e.wala_betting_open,isWinner:e.status==="declared"&&e.result==="wala",isCancelled:e.status==="declared"&&e.result==="cancelled"})]}),t.jsx(j,{totalPot:e.total_pot,commission:e.commission,commissionPercentage:e.commission_percentage,netPot:e.net_pot}),t.jsx(_,{notes:e.notes,specialConditions:e.special_conditions}),t.jsx(v,{history:g})]}),t.jsx("style",{children:`
                @keyframes confetti {
                    0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                }
                .animate-confetti {
                    animation: confetti 4s linear infinite;
                }
                @keyframes fade-in {
                    from { opacity: 0; transform: scale(0.8); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in {
                    animation: fade-in 0.5s ease-out;
                }
            `})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:[t.jsx(c,{title:"Big Screen - Sabing2m"}),t.jsxs("div",{className:"text-center p-8",children:[t.jsx("div",{className:"text-9xl mb-8 animate-bounce",children:"üêì"}),t.jsx("h1",{className:"text-7xl font-bold text-orange-500 mb-4",children:"SABING2M"}),t.jsx("p",{className:"text-4xl text-gray-400",children:"Waiting for Next Fight..."}),t.jsx("p",{className:"text-2xl text-gray-600 mt-6",children:"Fight will start soon"}),t.jsxs("div",{className:"mt-8 animate-pulse",children:[t.jsx("div",{className:"text-6xl mb-4",children:"‚è≥"}),t.jsx("p",{className:"text-xl text-gray-500",children:"Preparing arena..."})]})]})]})}export{B as default};
