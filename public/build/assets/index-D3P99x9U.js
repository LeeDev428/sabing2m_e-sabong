import{c as q,j as t,H as z,a as M}from"./app-DUQr0A1g.js";import{A as G}from"./admin-layout-Bn0IejjI.js";import{P as J}from"./pagination-LZawVTTZ.js";import"./app-DvnR59sY.js";function ee(a){const e=q.c(74),{tellers:l,recentTransfers:s,currentFight:r}=a,H=V,U=Q;let x,o,n,m,h,p,i,g,f,c,d;if(e[0]!==l){const $=l.reduce(O,0);x=G,e[12]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(z,{title:"Teller Balances"}),d=t.jsx("br",{}),e[12]=c,e[13]=d):(c=e[12],d=e[13]),e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]})}),e[14]=n):n=e[14],f="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",g="flex justify-between items-start",p="flex-1",e[15]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Distributed to Tellers (Current Event)"}),e[15]=i):i=e[15],o="text-5xl font-bold text-white",m="â‚±",h=$.toLocaleString(),e[0]=l,e[1]=x,e[2]=o,e[3]=n,e[4]=m,e[5]=h,e[6]=p,e[7]=i,e[8]=g,e[9]=f,e[10]=c,e[11]=d}else x=e[1],o=e[2],n=e[3],m=e[4],h=e[5],p=e[6],i=e[7],g=e[8],f=e[9],c=e[10],d=e[11];let u;e[16]!==o||e[17]!==m||e[18]!==h?(u=t.jsxs("div",{className:o,children:[m,h]}),e[16]=o,e[17]=m,e[18]=h,e[19]=u):u=e[19];const I=l.length!==1?"s":"";let j;e[20]!==I||e[21]!==l.length?(j=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",l.length," teller",I]}),e[20]=I,e[21]=l.length,e[22]=j):j=e[22];let b;e[23]!==r?(b=r&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-green-400/30 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-green-100 text-sm",children:"Platform Revolving Balance (Unused):"}),t.jsxs("span",{className:"text-2xl font-bold text-yellow-200",children:["â‚±",(r.revolving_funds||0).toLocaleString()]})]}),t.jsx("div",{className:"text-xs text-green-200/70",children:"ðŸ’¡ This is the remaining funds available for distribution to tellers"})]}),e[23]=r,e[24]=b):b=e[24];let y;e[25]!==u||e[26]!==j||e[27]!==b||e[28]!==p||e[29]!==i?(y=t.jsxs("div",{className:p,children:[i,u,j,b]}),e[25]=u,e[26]=j,e[27]=b,e[28]=p,e[29]=i,e[30]=y):y=e[30];let N;e[31]!==r?(N=r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Current Event"}),t.jsx("div",{className:"text-lg font-bold text-white",children:r.event_name||"No Event"}),t.jsxs("div",{className:"text-green-200 text-sm",children:["Fight #",r.fight_number]})]}),e[31]=r,e[32]=N):N=e[32];let v;e[33]!==r?(v=!r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-yellow-200 text-sm",children:"âš ï¸ No active fight"}),t.jsx("div",{className:"text-green-200 text-xs",children:"Create a new fight to assign balances"})]}),e[33]=r,e[34]=v):v=e[34];let _;e[35]!==y||e[36]!==N||e[37]!==v||e[38]!==g?(_=t.jsxs("div",{className:g,children:[y,N,v]}),e[35]=y,e[36]=N,e[37]=v,e[38]=g,e[39]=_):_=e[39];let w;e[40]!==_||e[41]!==f?(w=t.jsx("div",{className:f,children:_}),e[40]=_,e[41]=f,e[42]=w):w=e[42];let C;e[43]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[43]=C):C=e[43];let D;e[44]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[44]=D):D=e[44];let S;if(e[45]!==l){let $;e[47]===Symbol.for("react.memo_cache_sentinel")?($=B=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:B.name}),t.jsx("div",{className:"text-sm text-gray-400",children:B.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat(B.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>H(B),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>U(B),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},B.id),e[47]=$):$=e[47],S=l.map($),e[45]=l,e[46]=S}else S=e[46];let T;e[48]!==S?(T=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[C,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[D,t.jsx("tbody",{className:"divide-y divide-gray-700",children:S})]})})]}),e[48]=S,e[49]=T):T=e[49];let R;e[50]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[50]=R):R=e[50];let E;e[51]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[51]=E):E=e[51];let A;e[52]!==s.data?(A=s.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):s.data.map(K),e[52]=s.data,e[53]=A):A=e[53];let k;e[54]!==A?(k=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[E,t.jsx("tbody",{className:"divide-y divide-gray-700",children:A})]})}),e[54]=A,e[55]=k):k=e[55];let F;e[56]!==s.current_page||e[57]!==s.data.length||e[58]!==s.last_page||e[59]!==s.links||e[60]!==s.per_page||e[61]!==s.total?(F=s.last_page>1&&t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsx(J,{links:s.links,currentPage:s.current_page,lastPage:s.last_page,from:s.data.length>0?(s.current_page-1)*s.per_page+1:0,to:Math.min(s.current_page*s.per_page,s.total),total:s.total})}),e[56]=s.current_page,e[57]=s.data.length,e[58]=s.last_page,e[59]=s.links,e[60]=s.per_page,e[61]=s.total,e[62]=F):F=e[62];let L;e[63]!==k||e[64]!==F?(L=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[R,k,F]}),e[63]=k,e[64]=F,e[65]=L):L=e[65];let P;return e[66]!==x||e[67]!==n||e[68]!==w||e[69]!==T||e[70]!==L||e[71]!==c||e[72]!==d?(P=t.jsxs(x,{children:[c,d,n,w,T,L]}),e[66]=x,e[67]=n,e[68]=w,e[69]=T,e[70]=L,e[71]=c,e[72]=d,e[73]=P):P=e[73],P}function K(a){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(a.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:a.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:a.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",a.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:a.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:a.remarks||"-"})]},a.id)}function O(a,e){return a+parseFloat(e.teller_balance.toString())}function Q(a){const e=prompt(`Deduct balance from ${a.name}:`);if(!e)return;const l=parseFloat(e);if(l>parseFloat(a.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${l.toLocaleString()} from ${a.name}?`)&&M.post(`/admin/teller-balances/${a.id}/deduct`,{amount:l,remarks:`Admin deducted â‚±${l.toLocaleString()}`})}function V(a){const e=prompt(`Add balance to ${a.name}:`);e&&M.post(`/admin/teller-balances/${a.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{ee as default};
