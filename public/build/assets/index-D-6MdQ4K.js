import{c as Ae,r as x,j as t,a as xe,H as Te}from"./app-D98qbBgN.js";import{T as Ie}from"./teller-layout-BuVKZ7R2.js";import"./app-C1p7HdE6.js";function Me(a){const e=Ae.c(96),{tellers:l,transfers:b,currentBalance:r,latestFight:i}=a,[d,_e]=x.useState(""),[n,Se]=x.useState(""),[u,Ce]=x.useState(""),[o,Re]=x.useState(""),[p,Fe]=x.useState(""),[ue,be]=x.useState(!1),[pe,fe]=x.useState(!1),[m,he]=x.useState("0"),[c,ge]=x.useState("0"),H=He;let O;e[0]!==m?(O=()=>{const s=parseFloat(m);!s||s<=0||xe.post("/teller/transactions/cash-in",{amount:s,remarks:null},{onSuccess:()=>{be(!1),he("0")}})},e[0]=m,e[1]=O):O=e[1];const ye=O;let D;e[2]!==c||e[3]!==r?(D=()=>{const s=parseFloat(c);if(!(!s||s<=0)){if(s>r){alert("Insufficient balance!");return}xe.post("/teller/transactions/cash-out",{amount:s,remarks:null},{onSuccess:()=>{fe(!1),ge("0")}})}},e[2]=c,e[3]=r,e[4]=D):D=e[4];const ve=D;let $;e[5]===Symbol.for("react.memo_cache_sentinel")?($=s=>{const{value:I,onChange:q}=s;return t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(E=>t.jsx("button",{type:"button",onClick:()=>H(String(E),I,q),className:"bg-white hover:bg-gray-100 active:bg-gray-200 text-black py-4 text-2xl font-semibold border border-gray-300 transition-colors",style:{borderRadius:"6px"},children:E},E)),t.jsx("button",{type:"button",onClick:()=>H(".",I,q),className:"bg-white text-gray-400 py-4 text-2xl font-semibold border border-gray-300 cursor-not-allowed",style:{borderRadius:"6px"},disabled:!0,children:"."}),t.jsx("button",{type:"button",onClick:()=>H("0",I,q),className:"bg-white hover:bg-gray-100 active:bg-gray-200 text-black py-4 text-2xl font-semibold border border-gray-300 transition-colors",style:{borderRadius:"6px"},children:"0"}),t.jsx("button",{type:"button",onClick:()=>H("CLEAR",I,q),className:"bg-white hover:bg-gray-100 active:bg-gray-200 text-black py-4 text-sm font-bold border border-gray-300 transition-colors tracking-wide",style:{borderRadius:"6px"},children:"CLEAR"})]})},e[5]=$):$=e[5];const Le=$;let M;e[6]!==n||e[7]!==r||e[8]!==u||e[9]!==d||e[10]!==l?(M=s=>{if(s.preventDefault(),!d||!n)return;if(parseFloat(n)>r){alert("Insufficient balance!");return}const I=l.find(E=>E.id===parseInt(d))?.name||"Unknown",q=`Confirm Transfer Request

Amount: â‚±${parseFloat(n).toLocaleString()}
To: ${I}
Remarks: ${u||"None"}

This transfer will be pending until approved by Admin or Declarator.

Continue?`;confirm(q)&&xe.post("/teller/cash-transfer",{to_teller_id:parseInt(d),amount:parseFloat(n),remarks:u},{onSuccess:()=>{_e(""),Se(""),Ce("")}})},e[6]=n,e[7]=r,e[8]=u,e[9]=d,e[10]=l,e[11]=M):M=e[11];const je=M;let P;e[12]!==i||e[13]!==o||e[14]!==p?(P=s=>{if(s.preventDefault(),!!o){if(!i){alert("No active fight available!");return}if(parseFloat(o)>i.revolving_funds){alert(`Insufficient revolving funds! Available: â‚±${i.revolving_funds.toLocaleString()}`);return}xe.post("/teller/cash-transfer/request",{amount:parseFloat(o),remarks:p},{onSuccess:()=>{Re(""),Fe(""),alert("Cash request submitted! Waiting for approval.")}})}},e[12]=i,e[13]=o,e[14]=p,e[15]=P):P=e[15];const we=P;let B;e[16]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Te,{title:"Cash Transfer"}),e[16]=B):B=e[16];let W;e[17]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest mb-1",children:"Money On Hand"}),e[17]=W):W=e[17];let f;e[18]!==r?(f=r.toLocaleString("en-PH",{minimumFractionDigits:2}),e[18]=r,e[19]=f):f=e[19];let h;e[20]!==f?(h=t.jsxs("div",{className:"px-4 pt-4 pb-3 bg-[#1a1a1a] border-b border-gray-800",children:[W,t.jsxs("div",{className:"text-3xl font-black tabular-nums text-white",children:["â‚±",f]})]}),e[20]=f,e[21]=h):h=e[21];let U;e[22]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{he("0"),be(!0)},e[22]=U):U=e[22];let V;e[23]===Symbol.for("react.memo_cache_sentinel")?(V={borderRadius:"8px"},e[23]=V):V=e[23];let z,G;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("button",{onClick:U,className:"flex flex-col items-center justify-center gap-1 py-5 bg-[#1565c0] hover:bg-[#1976d2] active:bg-[#0d47a1] font-black text-lg tracking-wider transition-colors",style:V,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16l4 4m0 0l4-4m-4 4V4"})}),"CASH IN"]}),G=()=>{ge("0"),fe(!0)},e[24]=z,e[25]=G):(z=e[24],G=e[25]);let J;e[26]===Symbol.for("react.memo_cache_sentinel")?(J={borderRadius:"8px"},e[26]=J):J=e[26];let K;e[27]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z,t.jsxs("button",{onClick:G,className:"flex flex-col items-center justify-center gap-1 py-5 bg-[#c62828] hover:bg-[#d32f2f] active:bg-[#b71c1c] font-black text-lg tracking-wider transition-colors",style:J,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8l-4-4m0 0l-4 4m4-4v16"})}),"CASH OUT"]})]}),e[27]=K):K=e[27];let Q;e[28]===Symbol.for("react.memo_cache_sentinel")?(Q={borderRadius:"8px"},e[28]=Q):Q=e[28];let X;e[29]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("div",{className:"px-4 py-3 border-b border-gray-800 bg-[#222222]",children:t.jsx("h2",{className:"text-sm font-bold tracking-widest text-gray-300 uppercase",children:"Transfer Cash"})}),e[29]=X):X=e[29];let Y;e[30]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("label",{className:"block text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:"Transfer To"}),e[30]=Y):Y=e[30];let Z;e[31]===Symbol.for("react.memo_cache_sentinel")?(Z=s=>_e(s.target.value),e[31]=Z):Z=e[31];let ee;e[32]===Symbol.for("react.memo_cache_sentinel")?(ee={borderRadius:"6px"},e[32]=ee):ee=e[32];let te;e[33]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("option",{value:"",children:"Select Teller"}),e[33]=te):te=e[33];let g;e[34]!==l?(g=l.map(Ee),e[34]=l,e[35]=g):g=e[35];let y;e[36]!==d||e[37]!==g?(y=t.jsxs("div",{children:[Y,t.jsxs("select",{value:d,onChange:Z,className:"w-full px-3 py-3 bg-[#2a2a2a] border border-gray-700 text-white text-sm focus:outline-none focus:border-blue-500",style:ee,required:!0,children:[te,g]})]}),e[36]=d,e[37]=g,e[38]=y):y=e[38];let se;e[39]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("label",{className:"block text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:"Amount (â‚±)"}),e[39]=se):se=e[39];let re;e[40]===Symbol.for("react.memo_cache_sentinel")?(re=s=>Se(s.target.value),e[40]=re):re=e[40];let ae;e[41]===Symbol.for("react.memo_cache_sentinel")?(ae={borderRadius:"6px"},e[41]=ae):ae=e[41];let v,j;e[42]!==n||e[43]!==r?(v=t.jsx("input",{type:"number",value:n,onChange:re,className:"w-full px-3 py-3 bg-[#2a2a2a] border border-gray-700 text-white text-xl tabular-nums focus:outline-none focus:border-blue-500",style:ae,step:"0.01",min:"0.01",max:r,required:!0}),j=parseFloat(n)>r&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Amount exceeds your balance!"}),e[42]=n,e[43]=r,e[44]=v,e[45]=j):(v=e[44],j=e[45]);let w;e[46]!==v||e[47]!==j?(w=t.jsxs("div",{children:[se,v,j]}),e[46]=v,e[47]=j,e[48]=w):w=e[48];let le;e[49]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("label",{className:"block text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:"Remarks (Optional)"}),e[49]=le):le=e[49];let ne;e[50]===Symbol.for("react.memo_cache_sentinel")?(ne=s=>Ce(s.target.value),e[50]=ne):ne=e[50];let ie;e[51]===Symbol.for("react.memo_cache_sentinel")?(ie={borderRadius:"6px"},e[51]=ie):ie=e[51];let N;e[52]!==u?(N=t.jsxs("div",{children:[le,t.jsx("textarea",{value:u,onChange:ne,className:"w-full px-3 py-2.5 bg-[#2a2a2a] border border-gray-700 text-white text-sm focus:outline-none focus:border-blue-500",style:ie,rows:2,placeholder:"e.g., Cash needed for betting"})]}),e[52]=u,e[53]=N):N=e[53];const Ne=!d||!n||parseFloat(n)>r;let oe;e[54]===Symbol.for("react.memo_cache_sentinel")?(oe={borderRadius:"6px"},e[54]=oe):oe=e[54];const ke=n||"0";let k;e[55]!==Ne||e[56]!==ke?(k=t.jsxs("button",{type:"submit",disabled:Ne,className:"w-full py-3.5 bg-[#1565c0] hover:bg-[#1976d2] disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed font-bold text-base transition-colors",style:oe,children:["Transfer â‚±",ke]}),e[55]=Ne,e[56]=ke,e[57]=k):k=e[57];let _;e[58]!==je||e[59]!==y||e[60]!==w||e[61]!==N||e[62]!==k?(_=t.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 overflow-hidden",style:Q,children:[X,t.jsxs("form",{onSubmit:je,className:"p-4 space-y-3",children:[y,w,N,k]})]}),e[58]=je,e[59]=y,e[60]=w,e[61]=N,e[62]=k,e[63]=_):_=e[63];let S;e[64]!==we||e[65]!==i||e[66]!==o||e[67]!==p?(S=i&&t.jsxs("div",{className:"bg-[#1a1a1a] border border-purple-900/50 overflow-hidden",style:{borderRadius:"8px"},children:[t.jsxs("div",{className:"px-4 py-3 border-b border-purple-900/50 bg-[#1e1528] flex items-center justify-between",children:[t.jsx("h2",{className:"text-sm font-bold tracking-widest text-purple-300 uppercase",children:"Request from Revolving Fund"}),t.jsxs("span",{className:"text-purple-400 text-sm font-bold tabular-nums",children:["â‚±",i.revolving_funds.toLocaleString()]})]}),t.jsxs("form",{onSubmit:we,className:"p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:"Request Amount (â‚±)"}),t.jsx("input",{type:"number",value:o,onChange:s=>Re(s.target.value),className:"w-full px-3 py-3 bg-[#2a2a2a] border border-gray-700 text-white text-xl tabular-nums focus:outline-none focus:border-purple-500",style:{borderRadius:"6px"},step:"0.01",min:"0.01",max:i.revolving_funds,required:!0}),parseFloat(o)>i.revolving_funds&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Amount exceeds available revolving funds!"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 uppercase tracking-wider mb-1.5",children:"Remarks / Reason"}),t.jsx("textarea",{value:p,onChange:s=>Fe(s.target.value),className:"w-full px-3 py-2.5 bg-[#2a2a2a] border border-gray-700 text-white text-sm focus:outline-none focus:border-purple-500",style:{borderRadius:"6px"},rows:2,placeholder:"e.g., Cash needed for betting operations",required:!0})]}),t.jsxs("button",{type:"submit",disabled:!o||parseFloat(o)>i.revolving_funds,className:"w-full py-3.5 bg-purple-700 hover:bg-purple-600 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed font-bold text-base transition-colors",style:{borderRadius:"6px"},children:["Request â‚±",o||"0"]})]})]}),e[64]=we,e[65]=i,e[66]=o,e[67]=p,e[68]=S):S=e[68];let ce;e[69]===Symbol.for("react.memo_cache_sentinel")?(ce={borderRadius:"8px"},e[69]=ce):ce=e[69];let de;e[70]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("div",{className:"px-4 py-3 border-b border-gray-800 bg-[#222222]",children:t.jsx("h2",{className:"text-sm font-bold tracking-widest text-gray-300 uppercase",children:"Transfer History"})}),e[70]=de):de=e[70];let C;e[71]!==b?(C=b.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-5xl mb-3",children:"ðŸ’¸"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"No transfers yet"})]}):b.map(qe),e[71]=b,e[72]=C):C=e[72];let R;e[73]!==C?(R=t.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 overflow-hidden",style:ce,children:[de,t.jsx("div",{className:"divide-y divide-gray-800/70",children:C})]}),e[73]=C,e[74]=R):R=e[74];let F;e[75]!==_||e[76]!==S||e[77]!==R?(F=t.jsxs("div",{className:"px-4 pt-4 space-y-4",children:[K,_,S,R]}),e[75]=_,e[76]=S,e[77]=R,e[78]=F):F=e[78];let L;e[79]!==F||e[80]!==h?(L=t.jsxs("div",{className:"min-h-screen bg-[#111111] text-white pb-24",children:[h,F]}),e[79]=F,e[80]=h,e[81]=L):L=e[81];let A;e[82]!==m||e[83]!==r||e[84]!==ye||e[85]!==ue?(A=ue&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end sm:items-center justify-center z-50",children:t.jsxs("div",{className:"bg-[#1c1c1c] w-full sm:max-w-xs overflow-hidden",style:{borderRadius:"12px 12px 0 0"},children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-3.5 bg-[#1565c0]",children:[t.jsx("h2",{className:"text-lg font-black tracking-widest uppercase",children:"Cash In"}),t.jsx("button",{onClick:()=>be(!1),className:"w-7 h-7 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-white text-xl leading-none",children:"Ã—"})]}),t.jsxs("div",{className:"px-4 pt-4 pb-5 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between bg-[#2a2a2a] border border-gray-700 px-4 py-2.5",style:{borderRadius:"20px"},children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm font-bold uppercase tracking-wider",children:[t.jsx("span",{children:"ðŸª™"})," Money On Hand"]}),t.jsx("span",{className:"text-white text-sm font-bold tabular-nums",children:r.toLocaleString("en-PH",{minimumFractionDigits:2})})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Enter Amount"}),t.jsxs("div",{className:"text-5xl font-black text-white tabular-nums",children:["P ",parseFloat(m||"0").toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),t.jsx(Le,{value:m,onChange:he}),t.jsxs("button",{onClick:ye,disabled:!parseFloat(m)||parseFloat(m)<=0,className:"w-full py-4 bg-[#1565c0] hover:bg-[#1976d2] disabled:bg-gray-700 disabled:text-gray-500 font-black text-base tracking-widest uppercase flex items-center justify-center gap-2 transition-colors",style:{borderRadius:"6px"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16l4 4m0 0l4-4m-4 4V4"})}),"Cash In"]})]})]})}),e[82]=m,e[83]=r,e[84]=ye,e[85]=ue,e[86]=A):A=e[86];let T;e[87]!==c||e[88]!==r||e[89]!==ve||e[90]!==pe?(T=pe&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end sm:items-center justify-center z-50",children:t.jsxs("div",{className:"bg-[#1c1c1c] w-full sm:max-w-xs overflow-hidden",style:{borderRadius:"12px 12px 0 0"},children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-3.5 bg-[#c62828]",children:[t.jsx("h2",{className:"text-lg font-black tracking-widest uppercase",children:"Cash Out"}),t.jsx("button",{onClick:()=>fe(!1),className:"w-7 h-7 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-white text-xl leading-none",children:"Ã—"})]}),t.jsxs("div",{className:"px-4 pt-4 pb-5 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between bg-[#2a2a2a] border border-gray-700 px-4 py-2.5",style:{borderRadius:"20px"},children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm font-bold uppercase tracking-wider",children:[t.jsx("span",{children:"ðŸª™"})," Money On Hand"]}),t.jsx("span",{className:"text-white text-sm font-bold tabular-nums",children:r.toLocaleString("en-PH",{minimumFractionDigits:2})})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Enter Amount"}),t.jsxs("div",{className:"text-5xl font-black text-white tabular-nums",children:["P ",parseFloat(c||"0").toLocaleString("en-PH",{minimumFractionDigits:2})]}),parseFloat(c)>r&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Exceeds balance!"})]}),t.jsx(Le,{value:c,onChange:ge}),t.jsxs("button",{onClick:ve,disabled:!parseFloat(c)||parseFloat(c)<=0||parseFloat(c)>r,className:"w-full py-4 bg-[#c62828] hover:bg-[#d32f2f] disabled:bg-gray-700 disabled:text-gray-500 font-black text-base tracking-widest uppercase flex items-center justify-center gap-2 transition-colors",style:{borderRadius:"6px"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8l-4-4m0 0l-4 4m4-4v16"})}),"Cash Out"]})]})]})}),e[87]=c,e[88]=r,e[89]=ve,e[90]=pe,e[91]=T):T=e[91];let me;return e[92]!==L||e[93]!==A||e[94]!==T?(me=t.jsxs(Ie,{currentPage:"cash",children:[B,L,A,T]}),e[92]=L,e[93]=A,e[94]=T,e[95]=me):me=e[95],me}function qe(a){const e=window.authUserId,l=a.from_teller.id===e;return t.jsx("div",{className:"px-4 py-3 hover:bg-gray-800/30 transition-colors",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded ${l?"bg-red-700":"bg-green-700"}`,children:l?"SENT":"RECEIVED"}),t.jsx("span",{className:"text-white text-sm font-semibold",children:l?`To: ${a.to_teller.name}`:`From: ${a.from_teller.name}`})]}),t.jsx("div",{className:"text-xs text-gray-500",children:new Date(a.created_at).toLocaleString()}),a.remarks&&t.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:a.remarks})]}),t.jsxs("div",{className:`text-lg font-black tabular-nums ${l?"text-red-400":"text-green-400"}`,children:[l?"-":"+","â‚±",a.amount.toLocaleString()]})]})},a.id)}function Ee(a){return t.jsxs("option",{value:a.id,children:[a.name," (",a.email,")"]},a.id)}function He(a,e,l){if(a==="CLEAR"){l("0");return}if(a===".")return;const b=e==="0"?a:e+a;l(b)}export{Me as default};
