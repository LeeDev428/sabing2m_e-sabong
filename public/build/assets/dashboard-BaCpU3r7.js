import{R as M,r as T,j as t,H as be,b as J,a as pe}from"./app-Cm6njgwQ.js";import{T as Ne}from"./teller-layout-BYQng2sJ.js";import{s as U}from"./toast-kz1Cz6CV.js";import{t as F}from"./thermalPrinter-CHFTpM4q.js";import"./app-CD36r9P7.js";var ve=Object.defineProperty,q=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,ne=(m,i,l)=>i in m?ve(m,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):m[i]=l,se=(m,i)=>{for(var l in i||(i={}))ae.call(i,l)&&ne(m,l,i[l]);if(q)for(var l of q(i))le.call(i,l)&&ne(m,l,i[l]);return m},re=(m,i)=>{var l={};for(var u in m)ae.call(m,u)&&i.indexOf(u)<0&&(l[u]=m[u]);if(m!=null&&q)for(var u of q(m))i.indexOf(u)<0&&le.call(m,u)&&(l[u]=m[u]);return l};var z;(m=>{const i=class N{constructor(e,r,s,n){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<N.MIN_VERSION||e>N.MAX_VERSION)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let a=[];for(let d=0;d<this.size;d++)a.push(!1);for(let d=0;d<this.size;d++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(s);if(this.drawCodewords(h),n==-1){let d=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const f=this.getPenaltyScore();f<d&&(n=p,d=f),this.applyMask(p)}}x(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}static encodeText(e,r){const s=m.QrSegment.makeSegments(e);return N.encodeSegments(s,r)}static encodeBinary(e,r){const s=m.QrSegment.makeBytes(e);return N.encodeSegments([s],r)}static encodeSegments(e,r,s=1,n=40,a=-1,h=!0){if(!(N.MIN_VERSION<=s&&s<=n&&n<=N.MAX_VERSION)||a<-1||a>7)throw new RangeError("Invalid value");let d,p;for(d=s;;d++){const b=N.getNumDataCodewords(d,r)*8,v=o.getTotalBits(e,d);if(v<=b){p=v;break}if(d>=n)throw new RangeError("Data too long")}for(const b of[N.Ecc.MEDIUM,N.Ecc.QUARTILE,N.Ecc.HIGH])h&&p<=N.getNumDataCodewords(d,b)*8&&(r=b);let f=[];for(const b of e){l(b.mode.modeBits,4,f),l(b.numChars,b.mode.numCharCountBits(d),f);for(const v of b.getData())f.push(v)}x(f.length==p);const A=N.getNumDataCodewords(d,r)*8;x(f.length<=A),l(0,Math.min(4,A-f.length),f),l(0,(8-f.length%8)%8,f),x(f.length%8==0);for(let b=236;f.length<A;b^=253)l(b,8,f);let C=[];for(;C.length*8<f.length;)C.push(0);return f.forEach((b,v)=>C[v>>>3]|=b<<7-(v&7)),new N(d,r,C,a)}getModule(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let s=0;s<this.size;s++)this.setFunctionModule(6,s,s%2==0),this.setFunctionModule(s,6,s%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),r=e.length;for(let s=0;s<r;s++)for(let n=0;n<r;n++)s==0&&n==0||s==0&&n==r-1||s==r-1&&n==0||this.drawAlignmentPattern(e[s],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const r=this.errorCorrectionLevel.formatBits<<3|e;let s=r;for(let a=0;a<10;a++)s=s<<1^(s>>>9)*1335;const n=(r<<10|s)^21522;x(n>>>15==0);for(let a=0;a<=5;a++)this.setFunctionModule(8,a,u(n,a));this.setFunctionModule(8,7,u(n,6)),this.setFunctionModule(8,8,u(n,7)),this.setFunctionModule(7,8,u(n,8));for(let a=9;a<15;a++)this.setFunctionModule(14-a,8,u(n,a));for(let a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,u(n,a));for(let a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,u(n,a));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let s=0;s<12;s++)e=e<<1^(e>>>11)*7973;const r=this.version<<12|e;x(r>>>18==0);for(let s=0;s<18;s++){const n=u(r,s),a=this.size-11+s%3,h=Math.floor(s/3);this.setFunctionModule(a,h,n),this.setFunctionModule(h,a,n)}}drawFinderPattern(e,r){for(let s=-4;s<=4;s++)for(let n=-4;n<=4;n++){const a=Math.max(Math.abs(n),Math.abs(s)),h=e+n,d=r+s;0<=h&&h<this.size&&0<=d&&d<this.size&&this.setFunctionModule(h,d,a!=2&&a!=4)}}drawAlignmentPattern(e,r){for(let s=-2;s<=2;s++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,r+s,Math.max(Math.abs(n),Math.abs(s))!=1)}setFunctionModule(e,r,s){this.modules[r][e]=s,this.isFunction[r][e]=!0}addEccAndInterleave(e){const r=this.version,s=this.errorCorrectionLevel;if(e.length!=N.getNumDataCodewords(r,s))throw new RangeError("Invalid argument");const n=N.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][r],a=N.ECC_CODEWORDS_PER_BLOCK[s.ordinal][r],h=Math.floor(N.getNumRawDataModules(r)/8),d=n-h%n,p=Math.floor(h/n);let f=[];const A=N.reedSolomonComputeDivisor(a);for(let b=0,v=0;b<n;b++){let I=e.slice(v,v+p-a+(b<d?0:1));v+=I.length;const O=N.reedSolomonComputeRemainder(I,A);b<d&&I.push(0),f.push(I.concat(O))}let C=[];for(let b=0;b<f[0].length;b++)f.forEach((v,I)=>{(b!=p-a||I>=d)&&C.push(v[b])});return x(C.length==h),C}drawCodewords(e){if(e.length!=Math.floor(N.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let s=this.size-1;s>=1;s-=2){s==6&&(s=5);for(let n=0;n<this.size;n++)for(let a=0;a<2;a++){const h=s-a,p=(s+1&2)==0?this.size-1-n:n;!this.isFunction[p][h]&&r<e.length*8&&(this.modules[p][h]=u(e[r>>>3],7-(r&7)),r++)}}x(r==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let s=0;s<this.size;s++){let n;switch(e){case 0:n=(s+r)%2==0;break;case 1:n=r%2==0;break;case 2:n=s%3==0;break;case 3:n=(s+r)%3==0;break;case 4:n=(Math.floor(s/3)+Math.floor(r/2))%2==0;break;case 5:n=s*r%2+s*r%3==0;break;case 6:n=(s*r%2+s*r%3)%2==0;break;case 7:n=((s+r)%2+s*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][s]&&n&&(this.modules[r][s]=!this.modules[r][s])}}getPenaltyScore(){let e=0;for(let a=0;a<this.size;a++){let h=!1,d=0,p=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[a][f]==h?(d++,d==5?e+=N.PENALTY_N1:d>5&&e++):(this.finderPenaltyAddHistory(d,p),h||(e+=this.finderPenaltyCountPatterns(p)*N.PENALTY_N3),h=this.modules[a][f],d=1);e+=this.finderPenaltyTerminateAndCount(h,d,p)*N.PENALTY_N3}for(let a=0;a<this.size;a++){let h=!1,d=0,p=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[f][a]==h?(d++,d==5?e+=N.PENALTY_N1:d>5&&e++):(this.finderPenaltyAddHistory(d,p),h||(e+=this.finderPenaltyCountPatterns(p)*N.PENALTY_N3),h=this.modules[f][a],d=1);e+=this.finderPenaltyTerminateAndCount(h,d,p)*N.PENALTY_N3}for(let a=0;a<this.size-1;a++)for(let h=0;h<this.size-1;h++){const d=this.modules[a][h];d==this.modules[a][h+1]&&d==this.modules[a+1][h]&&d==this.modules[a+1][h+1]&&(e+=N.PENALTY_N2)}let r=0;for(const a of this.modules)r=a.reduce((h,d)=>h+(d?1:0),r);const s=this.size*this.size,n=Math.ceil(Math.abs(r*20-s*10)/s)-1;return x(0<=n&&n<=9),e+=n*N.PENALTY_N4,x(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2;let s=[6];for(let n=this.size-7;s.length<e;n-=r)s.splice(1,0,n);return s}}static getNumRawDataModules(e){if(e<N.MIN_VERSION||e>N.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const s=Math.floor(e/7)+2;r-=(25*s-10)*s-55,e>=7&&(r-=36)}return x(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(N.getNumRawDataModules(e)/8)-N.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*N.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let n=0;n<e-1;n++)r.push(0);r.push(1);let s=1;for(let n=0;n<e;n++){for(let a=0;a<r.length;a++)r[a]=N.reedSolomonMultiply(r[a],s),a+1<r.length&&(r[a]^=r[a+1]);s=N.reedSolomonMultiply(s,2)}return r}static reedSolomonComputeRemainder(e,r){let s=r.map(n=>0);for(const n of e){const a=n^s.shift();s.push(0),r.forEach((h,d)=>s[d]^=N.reedSolomonMultiply(h,a))}return s}static reedSolomonMultiply(e,r){if(e>>>8||r>>>8)throw new RangeError("Byte out of range");let s=0;for(let n=7;n>=0;n--)s=s<<1^(s>>>7)*285,s^=(r>>>n&1)*e;return x(s>>>8==0),s}finderPenaltyCountPatterns(e){const r=e[1];x(r<=this.size*3);const s=r>0&&e[2]==r&&e[3]==r*3&&e[4]==r&&e[5]==r;return(s&&e[0]>=r*4&&e[6]>=r?1:0)+(s&&e[6]>=r*4&&e[0]>=r?1:0)}finderPenaltyTerminateAndCount(e,r,s){return e&&(this.finderPenaltyAddHistory(r,s),r=0),r+=this.size,this.finderPenaltyAddHistory(r,s),this.finderPenaltyCountPatterns(s)}finderPenaltyAddHistory(e,r){r[0]==0&&(e+=this.size),r.pop(),r.unshift(e)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],m.QrCode=i;function l(y,e,r){if(e<0||e>31||y>>>e)throw new RangeError("Value out of range");for(let s=e-1;s>=0;s--)r.push(y>>>s&1)}function u(y,e){return(y>>>e&1)!=0}function x(y){if(!y)throw new Error("Assertion error")}const g=class j{constructor(e,r,s){if(this.mode=e,this.numChars=r,this.bitData=s,r<0)throw new RangeError("Invalid argument");this.bitData=s.slice()}static makeBytes(e){let r=[];for(const s of e)l(s,8,r);return new j(j.Mode.BYTE,e.length,r)}static makeNumeric(e){if(!j.isNumeric(e))throw new RangeError("String contains non-numeric characters");let r=[];for(let s=0;s<e.length;){const n=Math.min(e.length-s,3);l(parseInt(e.substring(s,s+n),10),n*3+1,r),s+=n}return new j(j.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(e){if(!j.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],s;for(s=0;s+2<=e.length;s+=2){let n=j.ALPHANUMERIC_CHARSET.indexOf(e.charAt(s))*45;n+=j.ALPHANUMERIC_CHARSET.indexOf(e.charAt(s+1)),l(n,11,r)}return s<e.length&&l(j.ALPHANUMERIC_CHARSET.indexOf(e.charAt(s)),6,r),new j(j.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return e==""?[]:j.isNumeric(e)?[j.makeNumeric(e)]:j.isAlphanumeric(e)?[j.makeAlphanumeric(e)]:[j.makeBytes(j.toUtf8ByteArray(e))]}static makeEci(e){let r=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)l(e,8,r);else if(e<16384)l(2,2,r),l(e,14,r);else if(e<1e6)l(6,3,r),l(e,21,r);else throw new RangeError("ECI assignment value out of range");return new j(j.Mode.ECI,0,r)}static isNumeric(e){return j.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return j.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,r){let s=0;for(const n of e){const a=n.mode.numCharCountBits(r);if(n.numChars>=1<<a)return 1/0;s+=4+a+n.bitData.length}return s}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let s=0;s<e.length;s++)e.charAt(s)!="%"?r.push(e.charCodeAt(s)):(r.push(parseInt(e.substring(s+1,s+3),16)),s+=2);return r}};g.NUMERIC_REGEX=/^[0-9]*$/,g.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,g.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=g;m.QrSegment=g})(z||(z={}));(m=>{(i=>{const l=class{constructor(x,g){this.ordinal=x,this.formatBits=g}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),i.Ecc=l})(m.QrCode||(m.QrCode={}))})(z||(z={}));(m=>{(i=>{const l=class{constructor(x,g){this.modeBits=x,this.numBitsCharCount=g}numCharCountBits(x){return this.numBitsCharCount[Math.floor((x+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),i.Mode=l})(m.QrSegment||(m.QrSegment={}))})(z||(z={}));var H=z;var we={L:H.QrCode.Ecc.LOW,M:H.QrCode.Ecc.MEDIUM,Q:H.QrCode.Ecc.QUARTILE,H:H.QrCode.Ecc.HIGH},oe=128,ie="L",ce="#FFFFFF",de="#000000",he=!1,ue=1,ye=4,je=0,Ce=.1;function ge(m,i=0){const l=[];return m.forEach(function(u,x){let g=null;u.forEach(function(o,y){if(!o&&g!==null){l.push(`M${g+i} ${x+i}h${y-g}v1H${g+i}z`),g=null;return}if(y===u.length-1){if(!o)return;g===null?l.push(`M${y+i},${x+i} h1v1H${y+i}z`):l.push(`M${g+i},${x+i} h${y+1-g}v1H${g+i}z`);return}o&&g===null&&(g=y)})}),l.join("")}function me(m,i){return m.slice().map((l,u)=>u<i.y||u>=i.y+i.h?l:l.map((x,g)=>g<i.x||g>=i.x+i.w?x:!1))}function Ee(m,i,l,u){if(u==null)return null;const x=m.length+l*2,g=Math.floor(i*Ce),o=x/i,y=(u.width||g)*o,e=(u.height||g)*o,r=u.x==null?m.length/2-y/2:u.x*o,s=u.y==null?m.length/2-e/2:u.y*o,n=u.opacity==null?1:u.opacity;let a=null;if(u.excavate){let d=Math.floor(r),p=Math.floor(s),f=Math.ceil(y+r-d),A=Math.ceil(e+s-p);a={x:d,y:p,w:f,h:A}}const h=u.crossOrigin;return{x:r,y:s,h:e,w:y,excavation:a,opacity:n,crossOrigin:h}}function Se(m,i){return i!=null?Math.max(Math.floor(i),0):m?ye:je}function fe({value:m,level:i,minVersion:l,includeMargin:u,marginSize:x,imageSettings:g,size:o,boostLevel:y}){let e=M.useMemo(()=>{const d=(Array.isArray(m)?m:[m]).reduce((p,f)=>(p.push(...H.QrSegment.makeSegments(f)),p),[]);return H.QrCode.encodeSegments(d,we[i],l,void 0,void 0,y)},[m,i,l,y]);const{cells:r,margin:s,numCells:n,calculatedImageSettings:a}=M.useMemo(()=>{let h=e.getModules();const d=Se(u,x),p=h.length+d*2,f=Ee(h,o,d,g);return{cells:h,margin:d,numCells:p,calculatedImageSettings:f}},[e,o,g,u,x]);return{qrcode:e,margin:s,cells:r,numCells:n,calculatedImageSettings:a}}var Me=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Re=M.forwardRef(function(i,l){const u=i,{value:x,size:g=oe,level:o=ie,bgColor:y=ce,fgColor:e=de,includeMargin:r=he,minVersion:s=ue,boostLevel:n,marginSize:a,imageSettings:h}=u,p=re(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=p,A=re(p,["style"]),C=h?.src,b=M.useRef(null),v=M.useRef(null),I=M.useCallback(P=>{b.current=P,typeof l=="function"?l(P):l&&(l.current=P)},[l]),[O,L]=M.useState(!1),{margin:D,cells:$,numCells:Q,calculatedImageSettings:_}=fe({value:x,level:o,minVersion:s,boostLevel:n,includeMargin:r,marginSize:a,imageSettings:h,size:g});M.useEffect(()=>{if(b.current!=null){const P=b.current,k=P.getContext("2d");if(!k)return;let W=$;const B=v.current,K=_!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;K&&_.excavation!=null&&(W=me($,_.excavation));const X=window.devicePixelRatio||1;P.height=P.width=g*X;const Z=g/Q*X;k.scale(Z,Z),k.fillStyle=y,k.fillRect(0,0,Q,Q),k.fillStyle=e,Me?k.fill(new Path2D(ge(W,D))):$.forEach(function(ee,c){ee.forEach(function(E,w){E&&k.fillRect(w+D,c+D,1,1)})}),_&&(k.globalAlpha=_.opacity),K&&k.drawImage(B,_.x+D,_.y+D,_.w,_.h)}}),M.useEffect(()=>{L(!1)},[C]);const V=se({height:g,width:g},f);let R=null;return C!=null&&(R=M.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{L(!0)},ref:v,crossOrigin:_?.crossOrigin})),M.createElement(M.Fragment,null,M.createElement("canvas",se({style:V,height:g,width:g,ref:I,role:"img"},A)),R)});Re.displayName="QRCodeCanvas";var xe=M.forwardRef(function(i,l){const u=i,{value:x,size:g=oe,level:o=ie,bgColor:y=ce,fgColor:e=de,includeMargin:r=he,minVersion:s=ue,boostLevel:n,title:a,marginSize:h,imageSettings:d}=u,p=re(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:f,cells:A,numCells:C,calculatedImageSettings:b}=fe({value:x,level:o,minVersion:s,boostLevel:n,includeMargin:r,marginSize:h,imageSettings:d,size:g});let v=A,I=null;d!=null&&b!=null&&(b.excavation!=null&&(v=me(A,b.excavation)),I=M.createElement("image",{href:d.src,height:b.h,width:b.w,x:b.x+f,y:b.y+f,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const O=ge(v,f);return M.createElement("svg",se({height:g,width:g,viewBox:`0 0 ${C} ${C}`,ref:l,role:"img"},p),!!a&&M.createElement("title",null,a),M.createElement("path",{fill:y,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),M.createElement("path",{fill:e,d:O,shapeRendering:"crispEdges"}),I)});xe.displayName="QRCodeSVG";function Fe({fights:m=[],summary:i,tellerBalance:l=0,auth:u}){const[x,g]=T.useState("50"),[o,y]=T.useState(m.find(c=>c.status==="open"||c.status==="lastcall")||null),[e,r]=T.useState(null),[s,n]=T.useState(!1),[a,h]=T.useState(null),[d,p]=T.useState(l),[f,A]=T.useState(null),[C,b]=T.useState(!1),[v,I]=T.useState(null),O=T.useRef(null),[L,D]=T.useState(!1),[$,Q]=T.useState([]),[_,V]=T.useState("current");T.useEffect(()=>{(async()=>{try{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(w=>{w.getTracks().forEach(S=>S.stop()),console.log("âœ… Camera permission granted")})}catch(w){console.log("Camera permission denied or not available:",w)}})(),F.initialize().then(()=>{D(F.isConnected())});const E=w=>{D(w)};return F.addConnectionListener(E),()=>{F.removeConnectionListener(E)}},[]),T.useEffect(()=>{const c=async()=>{try{const w=await J.get("/teller/api/teller/live-data");p(w.data.balance)}catch(w){console.error("Failed to fetch live data:",w)}};c();const E=setInterval(c,2e3);return()=>clearInterval(E)},[]),T.useEffect(()=>{if(!o)return;const c=async()=>{try{const w=await J.get(`/teller/api/fights/${o.id}/bet-totals`);A(w.data)}catch(w){console.error("Failed to fetch bet totals:",w)}};c();const E=setInterval(c,2e3);return()=>clearInterval(E)},[o?.id]),T.useEffect(()=>{if(!o)return;const c=async()=>{try{const w=await J.get(`/teller/api/fights/${o.id}/odds`);h(w.data),w.data.status!==o.status&&y(w.data)}catch(w){console.error("Failed to fetch odds:",w)}};c();const E=setInterval(c,2e3);return()=>clearInterval(E)},[o?.id]);const R=a||o;T.useEffect(()=>{const E=setInterval(async()=>{try{const S=(await J.get("/teller/api/fights/open")).data;if(!o&&S.length>0)y(S[0]),r(null);else if(o&&o.status==="closed"&&S.length>0){const G=S.find(Y=>Y.id!==o.id);G&&(y(G),r(null))}}catch(w){console.error("Failed to check for new fights:",w)}},3e3);return()=>clearInterval(E)},[o]);const P=c=>{g(x==="0"?c:x+c)},k=()=>{g("0")},W=c=>{g(c.toString())},B=()=>{const c=parseInt(x)||0;g((c+1).toString())},K=()=>{const c=parseInt(x)||0;c>0&&g((c-1).toString())},X=async c=>{console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("ðŸ–¨ï¸  AUTO-PRINT START (Direct Function Call)"),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("ðŸ“Š Checking printer connection...");const E=F.isConnected(),w=F.getConnectedDevice();if(console.log("Printer Status:"),console.log("  - isConnected():",E),console.log("  - device:",w),console.log("  - device name:",w?.name||"N/A"),console.log("  - device ID:",w?.deviceId||"N/A"),!E){console.warn("âš ï¸  PRINTER NOT CONNECTED - Aborting print"),U("âš ï¸ Printer not connected","warning",2e3);return}console.log("âœ… PRINTER IS CONNECTED"),console.log("ðŸ“„ Ticket Data:",c);try{console.log("â³ Calling thermalPrinter.printTicket()..."),await F.printTicket({ticket_id:c.ticket_id,fight_number:c.fight_number,side:c.side,amount:c.amount,odds:c.odds,potential_payout:c.potential_payout}),console.log("âœ…âœ…âœ… PRINT COMPLETED SUCCESSFULLY! âœ…âœ…âœ…"),U("âœ“ Receipt printed!","success",2e3)}catch(S){console.error("âŒâŒâŒ PRINT ERROR âŒâŒâŒ"),console.error("Error:",S),console.error("Message:",S.message),console.error("Stack:",S.stack),U(`âŒ Print failed: ${S.message}`,"error",4e3)}console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("ðŸ–¨ï¸  AUTO-PRINT END"),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")},Z=()=>{if(!o||!e||!x)return;console.log("ðŸŽ¯ Submitting bet...");const c=parseFloat(x),E=`Bet placed successfully! â‚±${c.toLocaleString()}`;pe.post("/teller/bets",{fight_id:o.id,side:e,amount:c},{onSuccess:w=>{console.log("âœ… BET SUCCESSFUL - onSuccess callback fired"),console.log("ðŸ“¦ Page props:",w.props),console.log("ðŸ“¦ Flash data:",w.props.flash),U(E,"success",5e3);const S=w.props.lastTicket;if(console.log("ðŸŽ« Ticket data from server (lastTicket):",S),console.log("ðŸŽ« Ticket exists?",!!S),S){console.log("âœ… TICKET EXISTS - Creating newTicketData..."),console.log("ðŸ” ticket.event_name:",S.event_name),console.log("ðŸ” selectedFight.event_name:",o?.event_name),console.log("ðŸ” selectedFight:",o);const G=S.event_name||o?.event_name||"SABONG EVENT";console.log("ðŸ” Final event_name:",G);const Y={ticket_id:S.ticket_id,fight_number:o.fight_number,side:e,amount:c,odds:R?.meron_odds||R?.wala_odds||R?.draw_odds,potential_payout:S.potential_payout,created_at:new Date().toLocaleString(),meron_fighter:o.meron_fighter,wala_fighter:o.wala_fighter,event_name:G};console.log("ðŸ“„ New ticket data created:",Y),console.log("ðŸ–¨ï¸ CALLING autoPrintTicket()..."),X(Y).catch(te=>{console.error("Auto-print promise rejected:",te)}),Q(te=>[{id:S.ticket_id,side:e,amount:c,fight_number:o.fight_number},...te].slice(0,10)),I(Y),b(!0)}else console.error("âŒ NO TICKET DATA from server!");g("50"),r(null)},onError:w=>{console.error("Bet error:",w),U("Failed to place bet. Please try again.","error",4e3)},preserveScroll:!0})},ee=async()=>{if(O.current){if(F.isConnected()&&v)try{await F.printTicket({ticket_id:v.ticket_id,fight_number:v.fight_number,side:v.side,amount:v.amount,odds:v.odds,potential_payout:v.potential_payout}),U("Receipt printed to thermal printer!","success",3e3);return}catch(E){console.error("Thermal print error:",E),U(`Thermal printer error: ${E.message}`,"error",4e3)}const c=window.open("","","width=300,height=600");c&&(c.document.write(`
                    <html>
                    <head>
                        <title>Print Ticket</title>
                        <style>
                            body { font-family: monospace; padding: 10px; }
                            .ticket { max-width: 250px; margin: 0 auto; }
                            .qr-code { text-align: center; margin: 15px 0; }
                        </style>
                    </head>
                    <body>${O.current.innerHTML}</body>
                    </html>
                `),c.document.close(),c.focus(),c.print(),c.close())}};return t.jsxs(Ne,{currentPage:"dashboard",children:[t.jsx(be,{title:"Teller - Sabing2m"}),t.jsx("div",{className:"min-h-screen bg-[#1a1a1a]",children:t.jsxs("div",{className:"flex flex-col lg:flex-row",children:[t.jsxs("div",{className:"flex-1 lg:max-w-md mx-auto w-full",children:[t.jsx("div",{className:"bg-[#1a1a1a] px-4 py-2 border-b border-gray-700",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-orange-500",children:"Dashboard"}),t.jsx("div",{className:"text-xs text-gray-400",children:u?.user?.name||"Teller User"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-400",children:"Cash Balance"}),t.jsxs("div",{className:"text-lg font-bold text-green-400 transition-all duration-300",children:["â‚±",d.toLocaleString()]}),t.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[t.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${L?"bg-green-400":"bg-gray-500"}`}),t.jsx("span",{className:`text-[10px] ${L?"text-green-400":"text-gray-500"}`,children:L?"Printer OK":"No Printer"})]})]})]})}),o&&t.jsx("div",{className:"bg-gradient-to-r from-purple-900/50 to-indigo-900/50 border-b border-purple-500/30 py-1",children:t.jsxs("div",{className:"px-4 flex justify-between items-center",children:[t.jsx("div",{className:"text-xs",children:t.jsxs("span",{className:"text-gray-300",children:["Fight #",o.fight_number]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${o.status==="open"||o.status==="lastcall"?"bg-green-400 animate-pulse":"bg-red-400"}`}),t.jsx("span",{className:`text-xs font-bold ${o.status==="open"||o.status==="lastcall"?"text-green-400":"text-red-400"}`,children:o.status==="open"?"BETTING OPEN":o.status==="lastcall"?"LAST CALL":"BETTING CLOSED"})]})]})}),t.jsxs("div",{className:"p-3 transition-colors duration-300",style:{backgroundColor:e==="meron"?"rgba(250, 2, 2, 0.4)":e==="wala"?"rgba(10, 72, 243, 0.5)":"transparent"},children:[t.jsx("div",{className:"flex justify-center relative z-10 -mb-32",children:t.jsxs("div",{className:"w-20 h-24 bg-gradient-to-b from-yellow-400 via-yellow-500 to-orange-500 flex flex-col items-center justify-center shadow-lg",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},children:[t.jsx("span",{className:"text-[10px] font-bold text-red-800 uppercase tracking-wider",children:"FIGHT"}),t.jsx("span",{className:"text-2xl font-black text-red-900",children:o?.fight_number||"--"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-0 mb-4 pt-14",style:{opacity:!o||o.status!=="open"&&o.status!=="lastcall"?.6:1},children:[t.jsxs("button",{onClick:()=>o&&R?.meron_betting_open&&r("meron"),disabled:!o||!R?.meron_betting_open,className:`relative py-6 px-4 transition-all border-2 ${e==="meron"?"bg-red-500 border-yellow-400 shadow-lg shadow-yellow-400/50 brightness-125":"bg-red-600 border-red-700"} ${!o||!R?.meron_betting_open?"opacity-50 cursor-not-allowed":"hover:brightness-110 active:brightness-125"}`,style:{borderRadius:"8px 0 0 8px"},children:[t.jsx("div",{className:"text-white text-2xl font-black tracking-wider mb-1",children:"MERON"}),t.jsx("div",{className:"text-white/80 text-xs uppercase tracking-widest mb-0.5",children:"ODDS"}),t.jsx("div",{className:"text-white text-2xl font-bold",children:R?.meron_odds?Number(R.meron_odds).toFixed(2):"---"}),t.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["â‚±",(f?.meron_total??0).toLocaleString()]}),o&&!R?.meron_betting_open&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-l-lg",children:t.jsx("span",{className:"text-white text-sm font-bold",children:"ðŸ”’ CLOSED"})})]}),t.jsxs("button",{onClick:()=>o&&R?.wala_betting_open&&r("wala"),disabled:!o||!R?.wala_betting_open,className:`relative py-6 px-4 transition-all border-2 ${e==="wala"?"bg-blue-500 border-yellow-400 shadow-lg shadow-yellow-400/50 brightness-125":"bg-blue-600 border-blue-700"} ${!o||!R?.wala_betting_open?"opacity-50 cursor-not-allowed":"hover:brightness-110 active:brightness-125"}`,style:{borderRadius:"0 8px 8px 0"},children:[t.jsx("div",{className:"text-white text-2xl font-black tracking-wider mb-1",children:"WALA"}),t.jsx("div",{className:"text-white/80 text-xs uppercase tracking-widest mb-0.5",children:"ODDS"}),t.jsx("div",{className:"text-white text-2xl font-bold",children:R?.wala_odds?Number(R.wala_odds).toFixed(2):"---"}),t.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["â‚±",(f?.wala_total??0).toLocaleString()]}),o&&!R?.wala_betting_open&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-r-lg",children:t.jsx("span",{className:"text-white text-sm font-bold",children:"ðŸ”’ CLOSED"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("button",{onClick:K,className:"w-12 h-12 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white text-2xl font-bold rounded-lg border border-gray-600 flex items-center justify-center",children:"âˆ’"}),t.jsx("div",{className:"flex-1 bg-white rounded-lg py-3 px-4",children:t.jsx("div",{className:"text-black text-3xl font-bold text-center tracking-wider",children:x})}),t.jsx("button",{onClick:B,className:"w-12 h-12 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white text-2xl font-bold rounded-lg border border-gray-600 flex items-center justify-center",children:"+"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-1.5 mb-4",children:[[7,8,9].map(c=>t.jsx("button",{onClick:()=>P(c.toString()),className:"bg-[#f5f5f5] hover:bg-[#e0e0e0] text-black rounded-lg py-4 text-2xl font-bold border border-gray-300 transition-colors",children:c},c)),[4,5,6].map(c=>t.jsx("button",{onClick:()=>P(c.toString()),className:"bg-[#f5f5f5] hover:bg-[#e0e0e0] text-black rounded-lg py-4 text-2xl font-bold border border-gray-300 transition-colors",children:c},c)),[1,2,3].map(c=>t.jsx("button",{onClick:()=>P(c.toString()),className:"bg-[#f5f5f5] hover:bg-[#e0e0e0] text-black rounded-lg py-4 text-2xl font-bold border border-gray-300 transition-colors",children:c},c)),t.jsx("button",{className:"bg-[#f5f5f5] text-gray-400 rounded-lg py-4 text-2xl font-bold border border-gray-300 cursor-not-allowed",disabled:!0,children:"."}),t.jsx("button",{onClick:()=>P("0"),className:"bg-[#f5f5f5] hover:bg-[#e0e0e0] text-black rounded-lg py-4 text-2xl font-bold border border-gray-300 transition-colors",children:"0"}),t.jsx("button",{onClick:k,className:"bg-[#f5f5f5] hover:bg-[#e0e0e0] text-black rounded-lg py-4 text-sm font-bold border border-gray-300 transition-colors",children:"CLEAR"})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[100,200,500,1e3].map(c=>t.jsxs("button",{onClick:()=>W(c),className:"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg py-2.5 px-1 text-sm font-semibold border border-gray-600 flex items-center justify-center gap-1 transition-colors",children:[t.jsx("span",{className:"text-yellow-500",children:"â‚±"}),t.jsx("span",{children:c.toLocaleString()})]},c))}),t.jsx("button",{onClick:Z,disabled:!e||!o||o.status!=="open"&&o.status!=="lastcall",className:`w-full py-4 rounded-lg text-xl font-black mb-3 transition-all uppercase tracking-wider ${e&&o&&(o.status==="open"||o.status==="lastcall")?"bg-gradient-to-r from-orange-500 via-yellow-500 to-orange-500 hover:from-orange-600 hover:via-yellow-600 hover:to-orange-600 text-white shadow-lg":"bg-gray-700 cursor-not-allowed text-gray-400"}`,children:o?o.status!=="open"&&o.status!=="lastcall"?"BETTING CLOSED":"SUBMIT":"NO FIGHT"}),t.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-[#2a3544] hover:bg-[#3a4554] py-3.5 rounded-lg font-bold text-base flex items-center justify-center gap-2 text-white transition-colors",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"VIEW SUMMARY"]})]})]}),t.jsx("div",{className:"hidden lg:block w-96 bg-[#1a1a1a] border-l border-gray-800 min-h-screen",children:t.jsxs("div",{className:"p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"BET SUMMARY"}),t.jsx("div",{className:"bg-[#2a2a2a] rounded-lg p-3 mb-4",children:t.jsx("div",{className:"text-white font-semibold text-center",children:o?.event_name||"No Event"})}),e&&t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"SIDE"}),t.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold ${e==="meron"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:e.toUpperCase()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"AMOUNT"}),t.jsxs("span",{className:"text-white font-bold",children:["P ",parseInt(x||"0").toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"FIGHT NUMBER"}),t.jsx("span",{className:"text-white font-bold",children:o?.fight_number||"--"})]})]}),o?.venue&&t.jsx("div",{className:"text-gray-500 text-xs text-center mb-4",children:o.venue}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx("button",{onClick:()=>V("current"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-colors ${_==="current"?"bg-[#3a3a3a] text-white":"bg-transparent text-gray-500 hover:text-gray-300"}`,children:"Current Bets"}),t.jsx("button",{onClick:()=>V("today"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-colors ${_==="today"?"bg-[#3a3a3a] text-white":"bg-transparent text-gray-500 hover:text-gray-300"}`,children:"Today's Report"})]}),t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-3 px-2",children:[t.jsx("span",{children:"Item"}),t.jsx("span",{children:"Bet Amount"})]}),_==="current"?$.length>0?t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:$.map(c=>t.jsxs("div",{className:"flex justify-between items-center bg-[#2a2a2a] rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${c.side==="meron"?"bg-red-500":"bg-blue-500"}`}),t.jsxs("span",{className:"text-white text-sm",children:["Fight #",c.fight_number," - ",c.side.toUpperCase()]})]}),t.jsxs("span",{className:"text-white font-bold text-sm",children:["â‚±",c.amount.toLocaleString()]})]},c.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-orange-400 text-4xl mb-2",children:"ðŸ“"}),t.jsx("div",{className:"text-gray-500 text-sm",children:"Current Bets Will Show Here"})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center bg-[#2a2a2a] rounded-lg p-3",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Total Bets"}),t.jsx("span",{className:"text-white font-bold",children:i?.total_bets||0})]}),t.jsxs("div",{className:"flex justify-between items-center bg-[#2a2a2a] rounded-lg p-3",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Total Amount"}),t.jsxs("span",{className:"text-yellow-400 font-bold",children:["â‚±",(i?.total_bet_amount||0).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center bg-[#2a2a2a] rounded-lg p-3",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Meron"}),t.jsx("span",{className:"text-red-400 font-bold",children:i?.meron_bets||0})]}),t.jsxs("div",{className:"flex justify-between items-center bg-[#2a2a2a] rounded-lg p-3",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Wala"}),t.jsx("span",{className:"text-blue-400 font-bold",children:i?.wala_bets||0})]})]})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Cash Balance"}),t.jsxs("span",{className:"text-green-400 font-bold text-lg",children:["â‚±",d.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${L?"bg-green-400":"bg-gray-500"}`}),t.jsx("span",{className:`text-xs ${L?"text-green-400":"text-gray-500"}`,children:L?"Printer Connected":"No Printer"})]})]})]})})]})}),s&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-[#1a2332] rounded-lg w-full max-w-md border-2 border-gray-600",children:[t.jsxs("div",{className:"bg-[#2a3544] px-6 py-3 flex justify-between items-center rounded-t-lg border-b border-gray-700",children:[t.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx("span",{children:"ðŸ“Š"})," VIEW SUMMARY"]}),t.jsx("button",{onClick:()=>n(!1),className:"text-white hover:text-gray-200 text-3xl leading-none",children:"Ã—"})]}),t.jsxs("div",{className:"p-6 space-y-3",children:[t.jsxs("div",{className:"bg-[#0f1419] p-4 rounded-lg border border-gray-800",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Fight Summary"}),t.jsxs("div",{className:"text-2xl font-bold flex gap-4",children:[t.jsxs("span",{className:"text-red-400",children:["M: ",i?.meron_bets||0]}),t.jsxs("span",{className:"text-blue-400",children:["W: ",i?.wala_bets||0]}),t.jsxs("span",{className:"text-green-400",children:["D: ",i?.draw_bets||0]})]})]}),t.jsxs("div",{className:"bg-[#0f1419] p-4 rounded-lg border border-gray-800",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Total Bets"}),t.jsx("div",{className:"text-3xl font-bold",children:i?.total_bets||0})]}),t.jsxs("div",{className:"bg-[#0f1419] p-4 rounded-lg border border-gray-800",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Total Bet Amount"}),t.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:["â‚± ",i?.total_bet_amount?Number(i.total_bet_amount).toLocaleString("en-PH",{minimumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"bg-[#0f1419] p-4 rounded-lg border border-gray-800",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Total Payouts"}),t.jsxs("div",{className:"text-3xl font-bold text-green-400",children:["â‚± ",i?.total_payouts?Number(i.total_payouts).toLocaleString("en-PH",{minimumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"bg-[#0f1419] p-4 rounded-lg border border-gray-800",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Active Bets"}),t.jsx("div",{className:"text-3xl font-bold text-orange-400",children:i?.active_bets||0})]})]}),t.jsx("div",{className:"p-6 pt-0",children:t.jsx("button",{onClick:()=>n(!1),className:"w-full bg-[#2a3544] hover:bg-[#3a4554] py-4 rounded-lg font-bold text-lg",children:"BACK"})})]})}),!o&&!s&&t.jsxs("div",{className:"text-center text-gray-400 mt-20 px-4",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“"}),t.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"No Open Fights"}),t.jsx("p",{className:"text-gray-500",children:"Waiting for next fight to open..."})]}),C&&v&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white text-black rounded-lg w-full max-w-sm",children:[t.jsxs("div",{ref:O,className:"ticket p-3",children:[t.jsx("div",{className:"text-center border-b-2 border-dashed border-gray-800 pb-1 mb-2",children:t.jsx("h1",{className:"text-lg font-bold tracking-wide uppercase",children:v.event_name})}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(xe,{value:v.ticket_id,size:100,level:"H",includeMargin:!1})}),t.jsxs("div",{className:"flex-1 space-y-0 text-xs leading-tight",children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"font-bold",children:"Fight#:"}),t.jsx("span",{children:v.fight_number})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"font-bold",children:"Teller:"}),t.jsx("span",{children:"Teller"})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"font-bold",children:"Receipt:"}),t.jsx("span",{className:"font-mono text-[10px]",children:v.ticket_id.substring(0,13)})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"font-bold",children:"Date:"}),t.jsx("span",{children:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"font-bold",children:"Time:"}),t.jsx("span",{children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]}),t.jsx("div",{className:"border-t-2 border-dashed border-gray-800 pt-2 mb-2 text-center",children:t.jsxs("div",{className:`text-2xl font-bold mb-0.5 ${v.side==="meron"?"text-red-600":v.side==="wala"?"text-blue-600":"text-green-600"}`,children:[v.side.toUpperCase()," - â‚±",v.amount.toLocaleString()]})}),t.jsx("div",{className:"text-center border-t-2 border-dashed border-gray-800 pt-1",children:t.jsx("p",{className:"text-[10px] font-bold tracking-widest",children:"OFFICIAL BETTING RECEIPT"})})]}),t.jsxs("div",{className:"p-4 bg-gray-100 flex gap-3 rounded-b-lg print:hidden",children:[t.jsx("button",{onClick:ee,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold",children:"ðŸ–¨ï¸ PRINT"}),t.jsx("button",{onClick:()=>{b(!1),I(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-bold",children:"CLOSE"})]})]})})]})}export{Fe as default};
