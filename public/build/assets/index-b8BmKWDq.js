import{c as k,j as t,H as D,a as B}from"./app-COsiEswL.js";import{A as R}from"./admin-layout-BDPNPz6v.js";import"./app-PBvFZhw_.js";function G(s){const e=k.c(47),{tellers:a,recentTransfers:v}=s,L=H,F=I;let i,d,x,o,m,l,r,n,c;if(e[0]!==a){const j=a.reduce(E,0);i=R,e[10]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(D,{title:"Teller Balances"}),n=t.jsx("br",{}),e[10]=r,e[11]=n):(r=e[10],n=e[11]),e[12]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]}),e[12]=c):c=e[12],m="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",e[13]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Teller Balance"}),e[13]=l):l=e[13],d="text-5xl font-bold text-white",x="â‚±",o=j.toLocaleString(),e[0]=a,e[1]=i,e[2]=d,e[3]=x,e[4]=o,e[5]=m,e[6]=l,e[7]=r,e[8]=n,e[9]=c}else i=e[1],d=e[2],x=e[3],o=e[4],m=e[5],l=e[6],r=e[7],n=e[8],c=e[9];let h;e[14]!==d||e[15]!==x||e[16]!==o?(h=t.jsxs("div",{className:d,children:[x,o]}),e[14]=d,e[15]=x,e[16]=o,e[17]=h):h=e[17];const $=a.length!==1?"s":"";let p;e[18]!==$||e[19]!==a.length?(p=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",a.length," teller",$]}),e[18]=$,e[19]=a.length,e[20]=p):p=e[20];let g;e[21]!==p||e[22]!==m||e[23]!==l||e[24]!==h?(g=t.jsxs("div",{className:m,children:[l,h,p]}),e[21]=p,e[22]=m,e[23]=l,e[24]=h,e[25]=g):g=e[25];let _;e[26]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[26]=_):_=e[26];let S;e[27]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[27]=S):S=e[27];let f;if(e[28]!==a){let j;e[30]===Symbol.for("react.memo_cache_sentinel")?(j=N=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:N.name}),t.jsx("div",{className:"text-sm text-gray-400",children:N.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat(N.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>L(N),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>F(N),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},N.id),e[30]=j):j=e[30],f=a.map(j),e[28]=a,e[29]=f}else f=e[29];let u;e[31]!==f?(u=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[_,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[S,t.jsx("tbody",{className:"divide-y divide-gray-700",children:f})]})})]}),e[31]=f,e[32]=u):u=e[32];let w;e[33]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[33]=w):w=e[33];let A;e[34]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[34]=A):A=e[34];let y;e[35]!==v?(y=v.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):v.map(C),e[35]=v,e[36]=y):y=e[36];let b;e[37]!==y?(b=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[w,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[A,t.jsx("tbody",{className:"divide-y divide-gray-700",children:y})]})})]}),e[37]=y,e[38]=b):b=e[38];let T;return e[39]!==i||e[40]!==g||e[41]!==u||e[42]!==b||e[43]!==r||e[44]!==n||e[45]!==c?(T=t.jsxs(i,{children:[r,n,c,g,u,b]}),e[39]=i,e[40]=g,e[41]=u,e[42]=b,e[43]=r,e[44]=n,e[45]=c,e[46]=T):T=e[46],T}function C(s){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(s.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",s.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:s.remarks||"-"})]},s.id)}function E(s,e){return s+parseFloat(e.teller_balance.toString())}function I(s){const e=prompt(`Deduct balance from ${s.name}:`);if(!e)return;const a=parseFloat(e);if(a>parseFloat(s.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${a.toLocaleString()} from ${s.name}?`)&&B.post(`/admin/teller-balances/${s.id}/deduct`,{amount:a,remarks:`Admin deducted â‚±${a.toLocaleString()}`})}function H(s){const e=prompt(`Add balance to ${s.name}:`);e&&B.post(`/admin/teller-balances/${s.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{G as default};
