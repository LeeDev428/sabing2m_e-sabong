import{c as p,j as t,r as c,b as h,H as f}from"./app-BBlQVDGN.js";import{W as b,F as j,B as v,a as m,S as y,H as _}from"./WinnerOverlay-CQqZ306F.js";import"./app-CHIpb9V5.js";function N(e){const s=p.c(7),{notes:n,specialConditions:r}=e;if(!n&&!r)return null;let i;s[0]!==n?(i=n&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-300 mb-2",children:"üìù Notes"}),t.jsx("div",{className:"text-xl text-white",children:n})]}),s[0]=n,s[1]=i):i=s[1];let a;s[2]!==r?(a=r&&t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-300 mb-2",children:"‚ö†Ô∏è Special Conditions"}),t.jsx("div",{className:"text-xl text-white",children:r})]}),s[2]=r,s[3]=a):a=s[3];let o;return s[4]!==i||s[5]!==a?(o=t.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 rounded-2xl p-6 mb-8 border-2 border-indigo-500/30",children:[i,a]}),s[4]=i,s[5]=a,s[6]=o):o=s[6],o}function F(){const[e,s]=c.useState(null),[n,r]=c.useState([]),[i,a]=c.useState(!0),[o,g]=c.useState(!1);c.useEffect(()=>{x();const d=setInterval(x,2e3);return()=>clearInterval(d)},[]);const x=async()=>{try{const l=(await h.get("/api/bigscreen")).data.fight;if(l&&l.status==="declared"&&(!e||e.status!=="declared"||e.result!==l.result)&&(g(!0),setTimeout(()=>g(!1),8e3)),s(l),l){const u=await h.get("/api/bigscreen/history");r(u.data.history||[])}a(!1)}catch(d){console.error("Error fetching fight data:",d),a(!1)}};return i?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-5xl animate-pulse",children:"Loading..."})}):e?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 text-white overflow-hidden",children:[t.jsx(f,{title:`Fight #${e.fight_number} - Sabing2m`}),t.jsx(b,{show:o,result:e.result||"",fightNumber:e.fight_number}),t.jsxs("div",{className:"container mx-auto px-6 py-8",children:[t.jsx(j,{fightNumber:e.fight_number,venue:e.venue,eventName:e.event_name,roundNumber:e.round_number,matchType:e.match_type}),t.jsx(v,{status:e.status,meronBettingOpen:e.meron_betting_open,walaBettingOpen:e.wala_betting_open}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[t.jsx(m,{side:"meron",fighter:e.meron_fighter,odds:e.meron_odds,totalBets:e.meron_total,betCount:e.meron_count,bettingOpen:e.meron_betting_open}),t.jsx(m,{side:"draw",fighter:"Even Match",odds:e.draw_odds,totalBets:e.draw_total,betCount:e.draw_count}),t.jsx(m,{side:"wala",fighter:e.wala_fighter,odds:e.wala_odds,totalBets:e.wala_total,betCount:e.wala_count,bettingOpen:e.wala_betting_open})]}),t.jsx(y,{totalPot:e.total_pot,commission:e.commission,commissionPercentage:e.commission_percentage,netPot:e.net_pot}),t.jsx(N,{notes:e.notes,specialConditions:e.special_conditions}),t.jsx(_,{history:n})]}),t.jsx("style",{children:`
                @keyframes confetti {
                    0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                }
                .animate-confetti {
                    animation: confetti 4s linear infinite;
                }
                @keyframes fade-in {
                    from { opacity: 0; transform: scale(0.8); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in {
                    animation: fade-in 0.5s ease-out;
                }
            `})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:[t.jsx(f,{title:"Big Screen - Sabing2m"}),t.jsxs("div",{className:"text-center p-8",children:[t.jsx("div",{className:"text-9xl mb-8 animate-bounce",children:"üêì"}),t.jsx("h1",{className:"text-7xl font-bold text-orange-500 mb-4",children:"SABING2M"}),t.jsx("p",{className:"text-4xl text-gray-400",children:"No Active Fight"}),t.jsx("p",{className:"text-2xl text-gray-600 mt-6",children:"Next fight starting soon..."})]})]})}export{F as default};
