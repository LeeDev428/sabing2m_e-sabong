import{c as ee,r as te,j as t,H as se,a as V}from"./app-BGyIldxf.js";import{D as le}from"./declarator-layout-DIdHS45k.js";import"./app-CrPI8egW.js";function ge(l){const e=ee.c(69),{pending:a,approved:n,allTransfers:i,tellers:c}=l,[r,q]=te.useState("pending"),W=de,X=oe,Q=ce,Y=ie;let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=(s,U)=>{const Z=U===void 0?!1:U;return t.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-xl font-bold text-green-400",children:Q(s.amount)}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600":"bg-blue-600"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})]}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"From:"}),t.jsx("span",{className:"font-medium",children:s.from_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.from_teller.role,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"To:"}),t.jsx("span",{className:"font-medium",children:s.to_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.to_teller.role,")"]})]}),s.remarks&&t.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[t.jsx("span",{className:"text-gray-400",children:"Note:"}),t.jsx("span",{className:"text-gray-300 italic",children:s.remarks})]})]})]}),Z&&t.jsxs("div",{className:"flex gap-2 ml-4",children:[t.jsx("button",{onClick:()=>W(s.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold text-sm",children:"âœ… Approve"}),t.jsx("button",{onClick:()=>X(s.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-sm",children:"âŒ Reject"})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-600",children:[t.jsxs("span",{children:["ðŸ“… ",Y(s.created_at)]}),s.approved_by&&t.jsxs("span",{children:["âœ“ Approved by: ",s.approved_by.name]})]})]},s.id)},e[0]=C):C=e[0];const z=C;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(se,{title:"Cash Transfer Monitoring - Declarator"}),e[1]=k):k=e[1];let D;e[2]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Cash Transfer Monitoring"}),t.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Monitor, approve, and track cash transfers"})]}),e[2]=D):D=e[2];let R;e[3]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸ’° Real-Time Teller Balances"}),e[3]=R):R=e[3];let o;e[4]!==c?(o=c.map(ne),e[4]=c,e[5]=o):o=e[5];let d;e[6]!==o?(d=t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o}),e[6]=o,e[7]=d):d=e[7];let F;e[8]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("div",{className:"text-blue-100 text-sm",children:"Total Cash in System"}),e[8]=F):F=e[8];let P;e[9]!==c?(P=c.reduce(re,0),e[9]=c,e[10]=P):P=e[10];const G=Number(P);let m;e[11]!==G?(m=G.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e[11]=G,e[12]=m):m=e[12];let x;e[13]!==m?(x=t.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-400",children:[F,t.jsxs("div",{className:"text-3xl font-bold text-white",children:["â‚±",m]})]}),e[13]=m,e[14]=x):x=e[14];let h;e[15]!==x||e[16]!==d?(h=t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg p-6 mb-6",children:[R,d,x]}),e[15]=x,e[16]=d,e[17]=h):h=e[17];let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Pending Approval"}),e[18]=$):$=e[18];let g;e[19]!==a.length?(g=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[$,t.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:a.length})]}),e[19]=a.length,e[20]=g):g=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Approved Today"}),e[21]=L):L=e[21];let p;e[22]!==n.length?(p=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[L,t.jsx("div",{className:"text-3xl font-bold text-green-400",children:n.length})]}),e[22]=n.length,e[23]=p):p=e[23];let H;e[24]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Amount (Pending)"}),e[24]=H):H=e[24];let b;e[25]!==a?(b=Q(a.reduce(ae,0)),e[25]=a,e[26]=b):b=e[26];let f;e[27]!==b?(f=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[H,t.jsx("div",{className:"text-xl font-bold text-blue-400",children:b})]}),e[27]=b,e[28]=f):f=e[28];let u;e[29]!==g||e[30]!==p||e[31]!==f?(u=t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[g,p,f]}),e[29]=g,e[30]=p,e[31]=f,e[32]=u):u=e[32];let E;e[33]===Symbol.for("react.memo_cache_sentinel")?(E=()=>q("pending"),e[33]=E):E=e[33];const J=`flex-1 px-6 py-4 font-semibold transition-colors ${r==="pending"?"bg-yellow-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let y;e[34]!==a.length||e[35]!==J?(y=t.jsxs("button",{onClick:E,className:J,children:["â³ Pending (",a.length,")"]}),e[34]=a.length,e[35]=J,e[36]=y):y=e[36];let I;e[37]===Symbol.for("react.memo_cache_sentinel")?(I=()=>q("approved"),e[37]=I):I=e[37];const K=`flex-1 px-6 py-4 font-semibold transition-colors ${r==="approved"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let v;e[38]!==n.length||e[39]!==K?(v=t.jsxs("button",{onClick:I,className:K,children:["âœ… Approved (",n.length,")"]}),e[38]=n.length,e[39]=K,e[40]=v):v=e[40];let M;e[41]===Symbol.for("react.memo_cache_sentinel")?(M=()=>q("all"),e[41]=M):M=e[41];const O=`flex-1 px-6 py-4 font-semibold transition-colors ${r==="all"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let j;e[42]!==i.length||e[43]!==O?(j=t.jsxs("button",{onClick:M,className:O,children:["ðŸ“‹ All Logs (",i.length,")"]}),e[42]=i.length,e[43]=O,e[44]=j):j=e[44];let N;e[45]!==y||e[46]!==v||e[47]!==j?(N=t.jsxs("div",{className:"flex border-b border-gray-700",children:[y,v,j]}),e[45]=y,e[46]=v,e[47]=j,e[48]=N):N=e[48];let _;e[49]!==r||e[50]!==a?(_=r==="pending"&&t.jsx("div",{children:a.length>0?t.jsx("div",{className:"space-y-4",children:a.map(s=>z(s,!0))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No pending cash transfers"})}),e[49]=r,e[50]=a,e[51]=_):_=e[51];let w;e[52]!==r||e[53]!==n?(w=r==="approved"&&t.jsx("div",{children:n.length>0?t.jsx("div",{className:"space-y-4",children:n.map(s=>z(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No approved transfers yet"})}),e[52]=r,e[53]=n,e[54]=w):w=e[54];let S;e[55]!==r||e[56]!==i?(S=r==="all"&&t.jsx("div",{children:i.length>0?t.jsx("div",{className:"space-y-4",children:i.map(s=>z(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No transfer logs available"})}),e[55]=r,e[56]=i,e[57]=S):S=e[57];let T;e[58]!==_||e[59]!==w||e[60]!==S?(T=t.jsxs("div",{className:"p-6",children:[_,w,S]}),e[58]=_,e[59]=w,e[60]=S,e[61]=T):T=e[61];let A;e[62]!==N||e[63]!==T?(A=t.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[N,T]}),e[62]=N,e[63]=T,e[64]=A):A=e[64];let B;return e[65]!==h||e[66]!==u||e[67]!==A?(B=t.jsxs(le,{children:[k,D,h,u,A]}),e[65]=h,e[66]=u,e[67]=A,e[68]=B):B=e[68],B}function ae(l,e){return l+Number(e.amount)}function re(l,e){return l+e.current_balance}function ne(l){return t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[t.jsx("div",{className:"text-sm text-blue-100",children:l.name}),t.jsxs("div",{className:"text-2xl font-bold text-white mt-1",children:["â‚±",Number(l.current_balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("div",{className:"text-xs text-blue-200 mt-1",children:l.email})]},l.id)}function ie(l){return new Date(l).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ce(l){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l)}function oe(l){confirm("Reject and delete this cash transfer? This action cannot be undone.")&&V.delete(`/declarator/cash-transfer/${l}/reject`)}function de(l){confirm("Approve this cash transfer?")&&V.post(`/declarator/cash-transfer/${l}/approve`)}export{ge as default};
