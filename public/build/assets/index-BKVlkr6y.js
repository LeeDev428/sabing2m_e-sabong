import{c as A,r as F,j as t,a as S,H as O}from"./app-oDv4b2cj.js";import{A as R}from"./admin-layout-D70rfxxY.js";import"./app-C9LunIZD.js";function H(E){const e=A.c(38),{events:a}=E,[C,p]=F.useState(!1),[n,D]=F.useState(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={name:"",event_date:new Date().toISOString().split("T")[0],revolving_funds:"",notes:""},e[0]=u):u=e[0];const[s,d]=F.useState(u);let o,i;e[1]!==n||e[2]!==s.event_date||e[3]!==s.name||e[4]!==s.notes||e[5]!==s.revolving_funds?(o=l=>{l.preventDefault(),n?S.put(`/admin/events/${n.id}`,{revolving_funds:parseFloat(s.revolving_funds),notes:s.notes},{onSuccess:()=>{D(null),p(!1),i()}}):S.post("/admin/events",{name:s.name,event_date:s.event_date,revolving_funds:parseFloat(s.revolving_funds),notes:s.notes},{onSuccess:()=>{p(!1),i()}})},i=()=>{d({name:"",event_date:new Date().toISOString().split("T")[0],revolving_funds:"",notes:""})},e[1]=n,e[2]=s.event_date,e[3]=s.name,e[4]=s.notes,e[5]=s.revolving_funds,e[6]=o,e[7]=i):(o=e[6],i=e[7]);let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=l=>{D(l),d({name:l.name,event_date:l.event_date,revolving_funds:l.revolving_funds.toString(),notes:l.notes||""}),p(!0)},e[8]=b):b=e[8];const M=b;let f;e[9]!==i?(f=()=>{p(!1),D(null),i()},e[9]=i,e[10]=f):f=e[10];const k=f,$=q;let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(O,{title:"Event Management"}),e[11]=y):y=e[11];let v,j;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Event Management"}),t.jsx("p",{className:"text-gray-400",children:"Create and manage events with revolving funds"})]}),j=()=>p(!0),e[12]=v,e[13]=j):(v=e[12],j=e[13]);let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[v,t.jsxs("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[t.jsx("span",{children:"ðŸ“…"})," Create New Event"]})]})}),e[14]=N):N=e[14];let _;e[15]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("thead",{className:"bg-gray-900",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-4 text-gray-400 font-semibold",children:"Event Name"}),t.jsx("th",{className:"text-left px-6 py-4 text-gray-400 font-semibold",children:"Event Date"}),t.jsx("th",{className:"text-right px-6 py-4 text-gray-400 font-semibold",children:"Revolving Funds"}),t.jsx("th",{className:"text-center px-6 py-4 text-gray-400 font-semibold",children:"Fights"}),t.jsx("th",{className:"text-center px-6 py-4 text-gray-400 font-semibold",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-gray-400 font-semibold",children:"Notes"}),t.jsx("th",{className:"text-center px-6 py-4 text-gray-400 font-semibold",children:"Actions"})]})}),e[15]=_):_=e[15];let c;if(e[16]!==a.data){let l;e[18]===Symbol.for("react.memo_cache_sentinel")?(l=r=>t.jsxs("tr",{className:"hover:bg-gray-750",children:[t.jsx("td",{className:"px-6 py-4 text-white font-medium",children:r.name}),t.jsx("td",{className:"px-6 py-4 text-gray-300",children:$(r.event_date)}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-green-400 font-semibold",children:["â‚±",r.revolving_funds.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:[r.fights_count," fights"]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.status==="active"?"bg-green-900/50 text-green-400":r.status==="completed"?"bg-blue-900/50 text-blue-400":"bg-red-900/50 text-red-400"}`,children:r.status})}),t.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:r.notes?t.jsx("span",{className:"line-clamp-1",title:r.notes,children:r.notes}):t.jsx("span",{className:"text-gray-600 italic",children:"No notes"})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("button",{onClick:()=>M(r),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Edit"})})]},r.id),e[18]=l):l=e[18],c=a.data.map(l),e[16]=a.data,e[17]=c}else c=e[17];let x;e[19]!==c?(x=t.jsxs("table",{className:"w-full",children:[_,t.jsx("tbody",{className:"divide-y divide-gray-700",children:c})]}),e[19]=c,e[20]=x):x=e[20];let m;e[21]!==a.current_page||e[22]!==a.data.length||e[23]!==a.last_page||e[24]!==a.total?(m=a.last_page>1&&t.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between border-t border-gray-700",children:[t.jsxs("div",{className:"text-gray-400 text-sm",children:["Showing ",a.data.length," of ",a.total," events"]}),t.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&t.jsx("button",{onClick:()=>S.get(`/admin/events?page=${a.current_page-1}`),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:"Previous"}),t.jsxs("span",{className:"text-gray-400 px-4 py-2",children:["Page ",a.current_page," of ",a.last_page]}),a.current_page<a.last_page&&t.jsx("button",{onClick:()=>S.get(`/admin/events?page=${a.current_page+1}`),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:"Next"})]})]}),e[21]=a.current_page,e[22]=a.data.length,e[23]=a.last_page,e[24]=a.total,e[25]=m):m=e[25];let g;e[26]!==x||e[27]!==m?(g=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[x,m]}),e[26]=x,e[27]=m,e[28]=g):g=e[28];let h;e[29]!==n||e[30]!==s||e[31]!==k||e[32]!==o||e[33]!==C?(h=C&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:n?"Edit Event":"Create New Event"}),t.jsxs("form",{onSubmit:o,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-400 mb-2",children:"Event Name"}),t.jsx("input",{type:"text",value:s.name,onChange:l=>d({...s,name:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",placeholder:"e.g., Championship 2024",required:!0,disabled:!!n}),n&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Event name cannot be changed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-400 mb-2",children:"Event Date"}),t.jsx("input",{type:"date",value:s.event_date,onChange:l=>d({...s,event_date:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0,disabled:!!n}),n&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Event date cannot be changed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-400 mb-2",children:"Revolving Funds"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:s.revolving_funds,onChange:l=>d({...s,revolving_funds:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",placeholder:"0.00",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-400 mb-2",children:"Notes (Optional)"}),t.jsx("textarea",{value:s.notes,onChange:l=>d({...s,notes:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",placeholder:"Additional notes about this event...",rows:3})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold",children:n?"Update Event":"Create Event"}),t.jsx("button",{type:"button",onClick:k,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})}),e[29]=n,e[30]=s,e[31]=k,e[32]=o,e[33]=C,e[34]=h):h=e[34];let w;return e[35]!==g||e[36]!==h?(w=t.jsxs(R,{children:[y,N,g,h]}),e[35]=g,e[36]=h,e[37]=w):w=e[37],w}function q(E){return new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}export{H as default};
