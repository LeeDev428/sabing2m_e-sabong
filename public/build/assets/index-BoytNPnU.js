import{c as X,r as w,j as t,a as Q,H as Z}from"./app-BA6J8iMC.js";import{T as ee}from"./teller-layout-DOZLboMh.js";import"./app-DvnR59sY.js";function ne(s){const e=X.c(62),{tellers:i,transfers:T,currentBalance:o,latestFight:l}=s,[c,z]=w.useState(""),[a,G]=w.useState(""),[d,J]=w.useState(""),[n,K]=w.useState(""),[m,M]=w.useState("");let R;e[0]!==a||e[1]!==o||e[2]!==d||e[3]!==c?(R=r=>{if(r.preventDefault(),!(!c||!a)){if(parseFloat(a)>o){alert("Insufficient balance!");return}Q.post("/teller/cash-transfer",{to_teller_id:parseInt(c),amount:parseFloat(a),remarks:d},{onSuccess:()=>{z(""),G(""),J("")}})}},e[0]=a,e[1]=o,e[2]=d,e[3]=c,e[4]=R):R=e[4];const P=R;let q;e[5]!==l||e[6]!==n||e[7]!==m?(q=r=>{if(r.preventDefault(),!!n){if(!l){alert("No active fight available!");return}if(parseFloat(n)>l.revolving_funds){alert(`Insufficient revolving funds! Available: â‚±${l.revolving_funds.toLocaleString()}`);return}Q.post("/teller/cash-transfer/request",{amount:parseFloat(n),remarks:m},{onSuccess:()=>{K(""),M(""),alert("Cash request submitted! Waiting for approval.")}})}},e[5]=l,e[6]=n,e[7]=m,e[8]=q):q=e[8];const U=q;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(Z,{title:"Cash Transfer"}),e[9]=C):C=e[9];let k;e[10]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 mb-4 border border-gray-700",children:[t.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:"Cash Transfer"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Transfer cash to other tellers"})]}),e[10]=k):k=e[10];let F;e[11]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("div",{className:"text-sm text-green-300 mb-2",children:"Your Current Balance"}),e[11]=F):F=e[11];let u;e[12]!==o?(u=o.toLocaleString(),e[12]=o,e[13]=u):u=e[13];let x;e[14]!==u?(x=t.jsx("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 rounded-lg p-6 mb-4 border border-green-500/30",children:t.jsxs("div",{className:"text-center",children:[F,t.jsxs("div",{className:"text-5xl font-bold text-white",children:["â‚±",u]})]})}),e[14]=u,e[15]=x):x=e[15];let A;e[16]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Transfer Cash"}),e[16]=A):A=e[16];let E;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Transfer To"}),e[17]=E):E=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=r=>z(r.target.value),e[18]=I):I=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("option",{value:"",children:"Select Teller"}),e[19]=L):L=e[19];let f;e[20]!==i?(f=i.map(se),e[20]=i,e[21]=f):f=e[21];let b;e[22]!==c||e[23]!==f?(b=t.jsxs("div",{children:[E,t.jsxs("select",{value:c,onChange:I,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white text-lg",required:!0,children:[L,f]})]}),e[22]=c,e[23]=f,e[24]=b):b=e[24];let $;e[25]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Amount (â‚±)"}),e[25]=$):$=e[25];let D;e[26]===Symbol.for("react.memo_cache_sentinel")?(D=r=>G(r.target.value),e[26]=D):D=e[26];let g,h;e[27]!==a||e[28]!==o?(g=t.jsx("input",{type:"number",value:a,onChange:D,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white text-2xl",step:"0.01",min:"0.01",max:o,required:!0}),h=parseFloat(a)>o&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Amount exceeds your balance!"}),e[27]=a,e[28]=o,e[29]=g,e[30]=h):(g=e[29],h=e[30]);let p;e[31]!==g||e[32]!==h?(p=t.jsxs("div",{children:[$,g,h]}),e[31]=g,e[32]=h,e[33]=p):p=e[33];let H;e[34]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Remarks (Optional)"}),e[34]=H):H=e[34];let B;e[35]===Symbol.for("react.memo_cache_sentinel")?(B=r=>J(r.target.value),e[35]=B):B=e[35];let v;e[36]!==d?(v=t.jsxs("div",{children:[H,t.jsx("textarea",{value:d,onChange:B,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white",rows:3,placeholder:"e.g., Cash needed for betting"})]}),e[36]=d,e[37]=v):v=e[37];const V=!c||!a||parseFloat(a)>o,W=a||"0";let j;e[38]!==V||e[39]!==W?(j=t.jsxs("button",{type:"submit",disabled:V,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-bold text-xl",children:["Transfer â‚±",W]}),e[38]=V,e[39]=W,e[40]=j):j=e[40];let y;e[41]!==P||e[42]!==b||e[43]!==p||e[44]!==v||e[45]!==j?(y=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-6 mb-4 border border-gray-700",children:[A,t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[b,p,v,j]})]}),e[41]=P,e[42]=b,e[43]=p,e[44]=v,e[45]=j,e[46]=y):y=e[46];let N;e[47]!==U||e[48]!==l||e[49]!==n||e[50]!==m?(N=l&&t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-6 mb-4 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-purple-400",children:"Request Cash from Revolving Fund"}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-400",children:"Available Funds"}),t.jsxs("div",{className:"text-lg font-bold text-purple-300",children:["â‚±",l.revolving_funds.toLocaleString()]})]})]}),t.jsxs("form",{onSubmit:U,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Request Amount (â‚±)"}),t.jsx("input",{type:"number",value:n,onChange:r=>K(r.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-white text-2xl",step:"0.01",min:"0.01",max:l.revolving_funds,required:!0}),parseFloat(n)>l.revolving_funds&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Amount exceeds available revolving funds!"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Remarks / Reason for Request"}),t.jsx("textarea",{value:m,onChange:r=>M(r.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-white",rows:3,placeholder:"e.g., Cash needed for betting operations",required:!0})]}),t.jsxs("button",{type:"submit",disabled:!n||parseFloat(n)>l.revolving_funds,className:"w-full px-6 py-4 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-bold text-xl",children:["Request â‚±",n||"0"]})]})]}),e[47]=U,e[48]=l,e[49]=n,e[50]=m,e[51]=N):N=e[51];let Y;e[52]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsx("h2",{className:"text-xl font-bold text-orange-500",children:"Your Transfer History"})}),e[52]=Y):Y=e[52];let _;e[53]!==T?(_=T.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’¸"}),t.jsx("p",{className:"text-gray-400",children:"No transfers yet"})]}):T.map(te),e[53]=T,e[54]=_):_=e[54];let S;e[55]!==_?(S=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg overflow-hidden border border-gray-700",children:[Y,t.jsx("div",{className:"divide-y divide-gray-700",children:_})]}),e[55]=_,e[56]=S):S=e[56];let O;return e[57]!==y||e[58]!==N||e[59]!==S||e[60]!==x?(O=t.jsxs(ee,{currentPage:"cash-transfer",children:[C,t.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[k,x,y,N,S]})]}),e[57]=y,e[58]=N,e[59]=S,e[60]=x,e[61]=O):O=e[61],O}function te(s){const e=window.authUserId,i=s.from_teller.id===e;return t.jsx("div",{className:"p-4 hover:bg-gray-800/50 transition-colors",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i?"bg-red-600":"bg-green-600"}`,children:i?"SENT":"RECEIVED"}),t.jsx("span",{className:"text-white font-semibold",children:i?`To: ${s.to_teller.name}`:`From: ${s.from_teller.name}`})]}),t.jsx("div",{className:"text-sm text-gray-400 mt-1",children:new Date(s.created_at).toLocaleString()}),s.remarks&&t.jsx("div",{className:"text-sm text-gray-400 mt-1",children:s.remarks})]}),t.jsxs("div",{className:`text-2xl font-bold ${i?"text-red-400":"text-green-400"}`,children:[i?"-":"+","â‚±",s.amount.toLocaleString()]})]})},s.id)}function se(s){return t.jsxs("option",{value:s.id,children:[s.name," (",s.email,")"]},s.id)}export{ne as default};
