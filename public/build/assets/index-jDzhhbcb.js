import{c as G,j as t,H as J,a as U}from"./app-TtgHofzS.js";import{A as K}from"./admin-layout-BM5dDHuh.js";import{P as O}from"./pagination-BQRYLYan.js";import"./app-BImf1qcS.js";function se(l){const e=G.c(77),{tellers:a,recentTransfers:s,currentFight:r,stats:o}=l,q=X,z=W;let m,h,i,g,p,u,c,f,b,d,x;if(e[0]!==a){const D=a.reduce(V,0);m=K,e[12]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(J,{title:"Teller Balances"}),x=t.jsx("br",{}),e[12]=d,e[13]=x):(d=e[12],x=e[13]),e[14]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]})}),e[14]=i):i=e[14],b="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",f="flex justify-between items-start",u="flex-1",e[15]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Distributed to Tellers (Current Event)"}),e[15]=c):c=e[15],h="text-5xl font-bold text-white",g="â‚±",p=D.toLocaleString(),e[0]=a,e[1]=m,e[2]=h,e[3]=i,e[4]=g,e[5]=p,e[6]=u,e[7]=c,e[8]=f,e[9]=b,e[10]=d,e[11]=x}else m=e[1],h=e[2],i=e[3],g=e[4],p=e[5],u=e[6],c=e[7],f=e[8],b=e[9],d=e[10],x=e[11];let j;e[16]!==h||e[17]!==g||e[18]!==p?(j=t.jsxs("div",{className:h,children:[g,p]}),e[16]=h,e[17]=g,e[18]=p,e[19]=j):j=e[19];const H=a.length!==1?"s":"";let N;e[20]!==H||e[21]!==a.length?(N=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",a.length," teller",H]}),e[20]=H,e[21]=a.length,e[22]=N):N=e[22];let y;e[23]!==r?(y=r&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-green-400/30 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-green-100 text-sm",children:"Platform Revolving Balance (Unused):"}),t.jsxs("span",{className:"text-2xl font-bold text-yellow-200",children:["â‚±",(r.revolving_funds||0).toLocaleString()]})]}),t.jsx("div",{className:"text-xs text-green-200/70",children:"ðŸ’¡ This is the remaining funds available for distribution to tellers"})]}),e[23]=r,e[24]=y):y=e[24];let v;e[25]!==j||e[26]!==N||e[27]!==y||e[28]!==u||e[29]!==c?(v=t.jsxs("div",{className:u,children:[c,j,N,y]}),e[25]=j,e[26]=N,e[27]=y,e[28]=u,e[29]=c,e[30]=v):v=e[30];let _;e[31]!==r?(_=r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Current Event"}),t.jsx("div",{className:"text-lg font-bold text-white",children:r.event_name||"No Event"}),t.jsxs("div",{className:"text-green-200 text-sm",children:["Fight #",r.fight_number]})]}),e[31]=r,e[32]=_):_=e[32];let w;e[33]!==r?(w=!r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-yellow-200 text-sm",children:"âš ï¸ No active fight"}),t.jsx("div",{className:"text-green-200 text-xs",children:"Create a new fight to assign balances"})]}),e[33]=r,e[34]=w):w=e[34];let S;e[35]!==v||e[36]!==_||e[37]!==w||e[38]!==f?(S=t.jsxs("div",{className:f,children:[v,_,w]}),e[35]=v,e[36]=_,e[37]=w,e[38]=f,e[39]=S):S=e[39];let T;e[40]!==S||e[41]!==b?(T=t.jsx("div",{className:b,children:S}),e[40]=S,e[41]=b,e[42]=T):T=e[42];let A;e[43]!==o?(A=o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-blue-200 text-xs mb-1",children:"Total Balance"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",o.total_balance.toLocaleString()]}),t.jsx("div",{className:"text-blue-200 text-xs mt-1",children:"Current across all tellers"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-purple-200 text-xs mb-1",children:"Total Assigned (All Time)"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",o.total_assigned.toLocaleString()]}),t.jsx("div",{className:"text-purple-200 text-xs mt-1",children:"Cumulative assignments"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Total Bets Processed"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:o.total_bets.toLocaleString()}),t.jsx("div",{className:"text-green-200 text-xs mt-1",children:"Across all tellers"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-yellow-200 text-xs mb-1",children:"Total Bet Amount"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",o.total_bet_amount.toLocaleString()]}),t.jsx("div",{className:"text-yellow-200 text-xs mt-1",children:"Combined bet value"})]})]}),e[43]=o,e[44]=A):A=e[44];let R;e[45]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[45]=R):R=e[45];let E;e[46]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Tot. Assigned"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Bets"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Bet Amount"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[46]=E):E=e[46];let L;if(e[47]!==a){let D;e[49]===Symbol.for("react.memo_cache_sentinel")?(D=n=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:n.name}),t.jsx("div",{className:"text-sm text-gray-400",children:n.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat(n.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-lg font-semibold text-purple-400",children:["â‚±",(n.total_assigned||0).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:"text-lg font-semibold text-blue-400",children:(n.total_bets||0).toLocaleString()})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-lg font-semibold text-yellow-400",children:["â‚±",(n.total_bet_amount||0).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>q(n),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>z(n),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},n.id),e[49]=D):D=e[49],L=a.map(D),e[47]=a,e[48]=L}else L=e[48];let B;e[50]!==L?(B=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[R,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[E,t.jsx("tbody",{className:"divide-y divide-gray-700",children:L})]})})]}),e[50]=L,e[51]=B):B=e[51];let P;e[52]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[52]=P):P=e[52];let I;e[53]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[53]=I):I=e[53];let C;e[54]!==s.data?(C=s.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):s.data.map(Q),e[54]=s.data,e[55]=C):C=e[55];let k;e[56]!==C?(k=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[I,t.jsx("tbody",{className:"divide-y divide-gray-700",children:C})]})}),e[56]=C,e[57]=k):k=e[57];let F;e[58]!==s.current_page||e[59]!==s.data.length||e[60]!==s.last_page||e[61]!==s.links||e[62]!==s.per_page||e[63]!==s.total?(F=s.last_page>1&&t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsx(O,{links:s.links,currentPage:s.current_page,lastPage:s.last_page,from:s.data.length>0?(s.current_page-1)*s.per_page+1:0,to:Math.min(s.current_page*s.per_page,s.total),total:s.total})}),e[58]=s.current_page,e[59]=s.data.length,e[60]=s.last_page,e[61]=s.links,e[62]=s.per_page,e[63]=s.total,e[64]=F):F=e[64];let $;e[65]!==k||e[66]!==F?($=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[P,k,F]}),e[65]=k,e[66]=F,e[67]=$):$=e[67];let M;return e[68]!==m||e[69]!==i||e[70]!==T||e[71]!==A||e[72]!==B||e[73]!==$||e[74]!==d||e[75]!==x?(M=t.jsxs(m,{children:[d,x,i,T,A,B,$]}),e[68]=m,e[69]=i,e[70]=T,e[71]=A,e[72]=B,e[73]=$,e[74]=d,e[75]=x,e[76]=M):M=e[76],M}function Q(l){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(l.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:l.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:l.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",l.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${l.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:l.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:l.remarks||"-"})]},l.id)}function V(l,e){return l+parseFloat(e.teller_balance.toString())}function W(l){const e=prompt(`Deduct balance from ${l.name}:`);if(!e)return;const a=parseFloat(e);if(a>parseFloat(l.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${a.toLocaleString()} from ${l.name}?`)&&U.post(`/admin/teller-balances/${l.id}/deduct`,{amount:a,remarks:`Admin deducted â‚±${a.toLocaleString()}`})}function X(l){const e=prompt(`Add balance to ${l.name}:`);e&&U.post(`/admin/teller-balances/${l.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{se as default};
