import{c as G,j as t,H as J,a as U}from"./app-CRLAQ9sY.js";import{A as K}from"./admin-layout-BXwYFAZv.js";import{P as O}from"./pagination-89Hbbmwv.js";import"./app-BcrCpqWN.js";function se(l){const e=G.c(77),{tellers:a,recentTransfers:s,currentFight:r,stats:x}=l,q=X,z=W;let o,m,n,h,g,p,i,f,u,c,d;if(e[0]!==a){const $=a.reduce(V,0);o=K,e[12]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(J,{title:"Teller Balances"}),d=t.jsx("br",{}),e[12]=c,e[13]=d):(c=e[12],d=e[13]),e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"mb-6 flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]})}),e[14]=n):n=e[14],u="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",f="flex justify-between items-start",p="flex-1",e[15]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Distributed to Tellers (Current Event)"}),e[15]=i):i=e[15],m="text-5xl font-bold text-white",h="â‚±",g=$.toLocaleString(),e[0]=a,e[1]=o,e[2]=m,e[3]=n,e[4]=h,e[5]=g,e[6]=p,e[7]=i,e[8]=f,e[9]=u,e[10]=c,e[11]=d}else o=e[1],m=e[2],n=e[3],h=e[4],g=e[5],p=e[6],i=e[7],f=e[8],u=e[9],c=e[10],d=e[11];let b;e[16]!==m||e[17]!==h||e[18]!==g?(b=t.jsxs("div",{className:m,children:[h,g]}),e[16]=m,e[17]=h,e[18]=g,e[19]=b):b=e[19];const H=a.length!==1?"s":"";let j;e[20]!==H||e[21]!==a.length?(j=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",a.length," teller",H]}),e[20]=H,e[21]=a.length,e[22]=j):j=e[22];let N;e[23]!==r?(N=r&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-green-400/30 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-green-100 text-sm",children:"Platform Revolving Balance (Unused):"}),t.jsxs("span",{className:"text-2xl font-bold text-yellow-200",children:["â‚±",(r.revolving_funds||0).toLocaleString()]})]}),t.jsx("div",{className:"text-xs text-green-200/70",children:"ðŸ’¡ This is the remaining funds available for distribution to tellers"})]}),e[23]=r,e[24]=N):N=e[24];let y;e[25]!==b||e[26]!==j||e[27]!==N||e[28]!==p||e[29]!==i?(y=t.jsxs("div",{className:p,children:[i,b,j,N]}),e[25]=b,e[26]=j,e[27]=N,e[28]=p,e[29]=i,e[30]=y):y=e[30];let v;e[31]!==r?(v=r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Current Event"}),t.jsx("div",{className:"text-lg font-bold text-white",children:r.event_name||"No Event"}),t.jsxs("div",{className:"text-green-200 text-sm",children:["Fight #",r.fight_number]})]}),e[31]=r,e[32]=v):v=e[32];let _;e[33]!==r?(_=!r&&t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-yellow-200 text-sm",children:"âš ï¸ No active fight"}),t.jsx("div",{className:"text-green-200 text-xs",children:"Create a new fight to assign balances"})]}),e[33]=r,e[34]=_):_=e[34];let w;e[35]!==y||e[36]!==v||e[37]!==_||e[38]!==f?(w=t.jsxs("div",{className:f,children:[y,v,_]}),e[35]=y,e[36]=v,e[37]=_,e[38]=f,e[39]=w):w=e[39];let S;e[40]!==w||e[41]!==u?(S=t.jsx("div",{className:u,children:w}),e[40]=w,e[41]=u,e[42]=S):S=e[42];let T;e[43]!==x?(T=x&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-blue-200 text-xs mb-1",children:"Total Balance"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",x.total_balance.toLocaleString()]}),t.jsx("div",{className:"text-blue-200 text-xs mt-1",children:"Current across all tellers"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-purple-200 text-xs mb-1",children:"Total Assigned (Current Event)"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",x.total_assigned.toLocaleString()]}),t.jsx("div",{className:"text-purple-200 text-xs mt-1",children:"Total for this event"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-green-200 text-xs mb-1",children:"Total Bets Processed"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:x.total_bets.toLocaleString()}),t.jsx("div",{className:"text-green-200 text-xs mt-1",children:"Current event only"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-lg p-4",children:[t.jsx("div",{className:"text-yellow-200 text-xs mb-1",children:"Total Bet Amount"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:["â‚±",x.total_bet_amount.toLocaleString()]}),t.jsx("div",{className:"text-yellow-200 text-xs mt-1",children:"Current event only"})]})]}),e[43]=x,e[44]=T):T=e[44];let E;e[45]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[45]=E):E=e[45];let R;e[46]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[46]=R):R=e[46];let A;if(e[47]!==a){let $;e[49]===Symbol.for("react.memo_cache_sentinel")?($=D=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:D.name}),t.jsx("div",{className:"text-sm text-gray-400",children:D.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["â‚±",parseFloat(D.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>q(D),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"ðŸ’° Add Balance"}),t.jsx("button",{onClick:()=>z(D),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-semibold",children:"âž– Deduct"})]})})]},D.id),e[49]=$):$=e[49],A=a.map($),e[47]=a,e[48]=A}else A=e[48];let L;e[50]!==A?(L=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[E,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[R,t.jsx("tbody",{className:"divide-y divide-gray-700",children:A})]})})]}),e[50]=A,e[51]=L):L=e[51];let P;e[52]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[52]=P):P=e[52];let I;e[53]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[53]=I):I=e[53];let B;e[54]!==s.data?(B=s.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):s.data.map(Q),e[54]=s.data,e[55]=B):B=e[55];let C;e[56]!==B?(C=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[I,t.jsx("tbody",{className:"divide-y divide-gray-700",children:B})]})}),e[56]=B,e[57]=C):C=e[57];let k;e[58]!==s.current_page||e[59]!==s.data.length||e[60]!==s.last_page||e[61]!==s.links||e[62]!==s.per_page||e[63]!==s.total?(k=s.last_page>1&&t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsx(O,{links:s.links,currentPage:s.current_page,lastPage:s.last_page,from:s.data.length>0?(s.current_page-1)*s.per_page+1:0,to:Math.min(s.current_page*s.per_page,s.total),total:s.total})}),e[58]=s.current_page,e[59]=s.data.length,e[60]=s.last_page,e[61]=s.links,e[62]=s.per_page,e[63]=s.total,e[64]=k):k=e[64];let F;e[65]!==C||e[66]!==k?(F=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[P,C,k]}),e[65]=C,e[66]=k,e[67]=F):F=e[67];let M;return e[68]!==o||e[69]!==n||e[70]!==S||e[71]!==T||e[72]!==L||e[73]!==F||e[74]!==c||e[75]!==d?(M=t.jsxs(o,{children:[c,d,n,S,T,L,F]}),e[68]=o,e[69]=n,e[70]=S,e[71]=T,e[72]=L,e[73]=F,e[74]=c,e[75]=d,e[76]=M):M=e[76],M}function Q(l){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(l.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:l.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:l.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["â‚±",l.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${l.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:l.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:l.remarks||"-"})]},l.id)}function V(l,e){return l+parseFloat(e.teller_balance.toString())}function W(l){const e=prompt(`Deduct balance from ${l.name}:`);if(!e)return;const a=parseFloat(e);if(a>parseFloat(l.teller_balance.toString())){alert("Cannot deduct more than current balance!");return}confirm(`Deduct â‚±${a.toLocaleString()} from ${l.name}?`)&&U.post(`/admin/teller-balances/${l.id}/deduct`,{amount:a,remarks:`Admin deducted â‚±${a.toLocaleString()}`})}function X(l){const e=prompt(`Add balance to ${l.name}:`);e&&U.post(`/admin/teller-balances/${l.id}/add`,{amount:parseFloat(e),remarks:`Admin added â‚±${parseFloat(e).toLocaleString()}`})}export{se as default};
